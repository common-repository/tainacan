"use strict";(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[8270],{35276:(e,t,a)=>{a.d(t,{A:()=>_});var i=a(6934),n=a(40834),r=a(74042),o=a(41229),l=a(31607),s=a(57672),c=a(31757),d=a(34456),u=a(87684);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=h(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var _n=0,i=function(){};return{s:i,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw n}}}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i,n,r,o,l=[],s=!0,c=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;s=!1}else for(;!(s=(i=r.call(a)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(c)throw n}}return l}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return v(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=Array(t);a<t;a++)i[a]=e[a];return i}function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){y(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function y(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=p(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const _={name:"FilterEditionForm",components:{"tainacan-filter-form-date":o.A,"tainacan-filter-form-numeric":l.A,"tainacan-filter-form-numeric-interval":s.A,"tainacan-filter-form-numeric-list-interval":c.A,"tainacan-filter-form-numerics-intersection":d.A,"tainacan-filter-form-dates-intersection":u.A},mixins:[r.X3],props:{index:"",editedFilter:Object,originalFilter:Object,isRepositoryLevel:Boolean},emits:["on-update-saved-state","on-edition-finished","on-edition-canceled","on-error-found"],data:function(){return{form:{},oldForm:{},formErrors:{},formErrorMessage:"",closedByForm:!1,showEditMaxOptions:!1,entityName:"filter",isLoading:!1,maxOptionsLimit:tainacan_plugin.api_max_items_per_page&&!isNaN(tainacan_plugin.api_max_items_per_page)?Number(tainacan_plugin.api_max_items_per_page):96}},created:function(){this.form=this.editedFilter,this.formErrors=null!=this.form.formErrors?this.form.formErrors:{},this.formErrorMessage=null!=this.form.formErrors?this.form.formErrorMessage:"",this.oldForm=JSON.parse(JSON.stringify(this.originalFilter)),null==this.form.metadatum&&null!=this.oldForm.metadatum&&(this.form.metadatum=this.oldForm.metadatum)},mounted:function(){var e=this;(0,i.dY)().then((function(){e.updateExtraFormData(e.form)}))},beforeUnmount:function(){this.closedByForm?this.$emit("on-update-saved-state",!0):(this.oldForm.saved=this.form.saved,JSON.stringify(this.form)!=JSON.stringify(this.oldForm)?this.$emit("on-update-saved-state",!1):this.$emit("on-update-saved-state",!0))},methods:b(b({},(0,n.i0)("filter",["updateFilter"])),{},{saveEdition:function(e){var t=this;if(this.isLoading=!0,e.filter_type_object&&e.filter_type_object.form_component||""==e.edit_form){for(var a=0,i=Object.entries(this.form);a<i.length;a++){var n=f(i[a],2),r=n[0],o=n[1];"begin_with_filter_collapsed"!==r&&"display_in_repository_level_lists"!==r&&"description_bellow_name"!==r||(this.form[r]="yes"==o||1==o?"yes":"no")}void 0===this.form.begin_with_filter_collapsed&&(this.form.begin_with_filter_collapsed="no"),void 0===this.form.display_in_repository_level_lists&&(this.form.display_in_repository_level_lists="no"),void 0===this.form.description_bellow_name&&(this.form.description_bellow_name="no"),this.updateFilter({filterId:e.id,index:this.index,options:this.form}).then((function(){t.form={},t.formErrors={},t.formErrorMessage="",t.isLoading=!1,t.closedByForm=!0,t.$emit("on-edition-finished")})).catch((function(e){t.isLoading=!1;var a,i=m(e.errors);try{for(i.s();!(a=i.n()).done;)for(var n=a.value,r=0,o=Object.keys(n);r<o.length;r++){var l=o[r];t.formErrors[l]=n[l]}}catch(e){i.e(e)}finally{i.f()}t.formErrorMessage=e.error_message,t.$emit("on-error-found"),t.form.formErrors=t.formErrors,t.form.formErrorMessage=t.formErrorMessage}))}else{var l,s=document.getElementById("filterEditForm"),c={},d=m(new FormData(s).entries());try{for(d.s();!(l=d.n()).done;){var u=f(l.value,2),p=u[0],h=u[1];c[p]="begin_with_filter_collapsed"===p||"display_in_repository_level_lists"===p||"description_bellow_name"===p?"yes"==h||1==h?"yes":"no":h}}catch(e){d.e(e)}finally{d.f()}void 0===c.begin_with_filter_collapsed&&(c.begin_with_filter_collapsed="no"),void 0===c.display_in_repository_level_lists&&(c.display_in_repository_level_lists="no"),void 0===c.description_bellow_name&&(c.description_bellow_name="no"),this.fillExtraFormData(c),this.updateFilter({filterId:e.id,index:this.index,options:c}).then((function(){t.form={},t.formErrors={},t.formErrorMessage="",t.isLoading=!1,t.closedByForm=!0,t.$emit("on-edition-finished")})).catch((function(e){t.isLoading=!1;var a,i=m(e.errors);try{for(i.s();!(a=i.n()).done;)for(var n=a.value,r=0,o=Object.keys(n);r<o.length;r++){var l=o[r];t.formErrors[l]=n[l]}}catch(e){i.e(e)}finally{i.f()}t.formErrorMessage=e.error_message,t.$emit("on-error-found"),t.form.formErrors=t.formErrors,t.form.formErrorMessage=t.formErrorMessage}))}},clearErrors:function(e){this.formErrors[e]=void 0},cancelEdition:function(){this.closedByForm=!0,this.$emit("on-edition-canceled")}})}},85743:(e,t,a)=>{a.d(t,{A:()=>i});const i={props:{modelValue:Object},emits:["update:model-value"],data:function(){return{comparatorsObject:Object,comparators:Array}},created:function(){this.comparators=this.modelValue&&this.modelValue.comparators?this.modelValue.comparators:["=","!=",">",">=","<","<="],this.comparatorsObject={"=":{symbol:"&#61;",label:this.$i18n.get("is_equal_to"),enabled:this.comparators.indexOf("=")<0?"no":"yes"},"!=":{symbol:"&#8800;",label:this.$i18n.get("is_not_equal_to"),enabled:this.comparators.indexOf("!=")<0?"no":"yes"},">":{symbol:"&#62;",label:this.$i18n.get("greater_than"),enabled:this.comparators.indexOf(">")<0?"no":"yes"},">=":{symbol:"&#8805;",label:this.$i18n.get("greater_than_or_equal_to"),enabled:this.comparators.indexOf(">=")<0?"no":"yes"},"<":{symbol:"&#60;",label:this.$i18n.get("less_than"),enabled:this.comparators.indexOf("<")<0?"no":"yes"},"<=":{symbol:"&#8804;",label:this.$i18n.get("less_than_or_equal_to"),enabled:this.comparators.indexOf("<=")<0?"no":"yes"}}},methods:{emitValues:function(){this.$emit("update:model-value",{comparators:this.comparators})}}}},29868:(e,t,a)=>{a.d(t,{A:()=>l});var i=a(75552);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){r=function(){return t};var e,t={},a=Object.prototype,i=a.hasOwnProperty,o=Object.defineProperty||function(e,t,a){e[t]=a.value},l="function"==typeof Symbol?Symbol:{},s=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function u(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,a){return e[t]=a}}function p(e,t,a,i){var n=t&&t.prototype instanceof y?t:y,r=Object.create(n.prototype),l=new M(i||[]);return o(r,"_invoke",{value:O(e,a,l)}),r}function m(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",v="executing",g="completed",b={};function y(){}function _(){}function k(){}var w={};u(w,s,(function(){return this}));var L=Object.getPrototypeOf,x=L&&L(L(S([])));x&&x!==a&&i.call(x,s)&&(w=x);var F=k.prototype=y.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function a(r,o,l,s){var c=m(e[r],e,o);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==n(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){a("next",e,l,s)}),(function(e){a("throw",e,l,s)})):t.resolve(u).then((function(e){d.value=e,l(d)}),(function(e){return a("throw",e,l,s)}))}s(c.arg)}var r;o(this,"_invoke",{value:function(e,i){function n(){return new t((function(t,n){a(e,i,t,n)}))}return r=r?r.then(n,n):n()}})}function O(t,a,i){var n=f;return function(r,o){if(n===v)throw Error("Generator is already running");if(n===g){if("throw"===r)throw o;return{value:e,done:!0}}for(i.method=r,i.arg=o;;){var l=i.delegate;if(l){var s=$(l,i);if(s){if(s===b)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===f)throw n=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=v;var c=m(t,a,i);if("normal"===c.type){if(n=i.done?g:h,c.arg===b)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=g,i.method="throw",i.arg=c.arg)}}}function $(t,a){var i=a.method,n=t.iterator[i];if(n===e)return a.delegate=null,"throw"===i&&t.iterator.return&&(a.method="return",a.arg=e,$(t,a),"throw"===a.method)||"return"!==i&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+i+"' method")),b;var r=m(n,t.iterator,a.arg);if("throw"===r.type)return a.method="throw",a.arg=r.arg,a.delegate=null,b;var o=r.arg;return o?o.done?(a[t.resultName]=o.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,b):o:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,b)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function S(t){if(t||""===t){var a=t[s];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function a(){for(;++r<t.length;)if(i.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(n(t)+" is not iterable")}return _.prototype=k,o(F,"constructor",{value:k,configurable:!0}),o(k,"constructor",{value:_,configurable:!0}),_.displayName=u(k,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,u(e,d,"GeneratorFunction")),e.prototype=Object.create(F),e},t.awrap=function(e){return{__await:e}},E(C.prototype),u(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,a,i,n,r){void 0===r&&(r=Promise);var o=new C(p(e,a,i,n),r);return t.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(F),u(F,d,"Generator"),u(F,s,(function(){return this})),u(F,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var i in t)a.push(i);return a.reverse(),function e(){for(;a.length;){var i=a.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=S,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!t)for(var a in this)"t"===a.charAt(0)&&i.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function n(i,n){return l.type="throw",l.arg=t,a.next=i,n&&(a.method="next",a.arg=e),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],l=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),V(a),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var i=a.completion;if("throw"===i.type){var n=i.arg;V(a)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,a,i){return this.delegate={iterator:S(t),resultName:a,nextLoc:i},"next"===this.method&&(this.arg=e),b}},t}function o(e,t,a,i,n,r,o){try{var l=e[r](o),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(i,n)}const l={props:{filter:Object,modelValue:Object,errors:Object},emits:["update:model-value"],data:function(){return{metadata:[],loading:!0,metadataType:"",metadataMessage:"",secondDateMetadatumId:[Number,String],secondDateMetadatumName:String,firstComparator:String,secondComparator:String,comparatorsObject:{},acceptDateInterval:String,showEditFirstComparatorOptions:!1,showEditSecondComparatorOptions:!1}},watch:{errors:function(){this.errors&&""!==this.errors.secondary_filter_metadatum_id?this.setErrorsAttributes("is-danger",this.errors.secondary_filter_metadatum_id):this.setErrorsAttributes("","")}},created:function(){this.secondDateMetadatumId=this.modelValue&&this.modelValue.secondary_filter_metadatum_id?this.modelValue.secondary_filter_metadatum_id:"",this.secondDateMetadatumName=this.modelValue&&this.modelValue.secondary_filter_metadatum_name?this.modelValue.secondary_filter_metadatum_name:"",this.firstComparator=this.modelValue&&this.modelValue.first_comparator?this.modelValue.first_comparator:">=",this.secondComparator=this.modelValue&&this.modelValue.second_comparator?this.modelValue.second_comparator:"<=",this.acceptDateInterval=this.modelValue&&this.modelValue.accept_date_interval?this.modelValue.accept_date_interval:"no",this.loading=!0,this.fetchMetadata(),this.comparatorsObject={"=":{symbol:"&#61;",label:this.$i18n.get("is_equal_to")},"!=":{symbol:"&#8800;",label:this.$i18n.get("is_not_equal_to")},">":{symbol:"&#62;",label:this.$i18n.get("after")},">=":{symbol:"&#8805;",label:this.$i18n.get("after_or_on_day")},"<":{symbol:"&#60;",label:this.$i18n.get("before")},"<=":{symbol:"&#8804;",label:this.$i18n.get("before_or_on_day")}}},methods:{fetchMetadata:function(){var e,t=this;return(e=r().mark((function e(){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.filter.collection_id&&"default"!==t.filter.collection_id?"/collection/"+t.filter.collection_id+"/metadata":"/metadata",a+="?metaquery[0][key]=metadata_type&metaquery[0][value]=Tainacan\\Metadata_Types\\Date&nopaging=1&exclude="+t.filter.metadatum_id,e.next=4,i.UY.get(a).then((function(e){t.loading=!1,t.metadata=e.data?e.data:[]})).catch((function(e){t.loading=!1,t.$console.log(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(i,n){var r=e.apply(t,a);function l(e){o(r,i,n,l,s,"next",e)}function s(e){o(r,i,n,l,s,"throw",e)}l(void 0)}))})()},onUpdateSecondDateMetadatumId:function(){var e=this,t=this.metadata.find((function(t){return t.id==e.secondDateMetadatumId}));this.secondDateMetadatumName=t?t.name:"",this.secondDateMetadatumId=t?t.id:"",this.emitValues()},emitValues:function(){this.$emit("update:model-value",{first_comparator:this.firstComparator,second_comparator:this.secondComparator,secondary_filter_metadatum_id:this.secondDateMetadatumId,secondary_filter_metadatum_name:this.secondDateMetadatumName,accept_date_interval:this.acceptDateInterval})},setErrorsAttributes:function(e,t){this.metadataType=e,this.metadataMessage=t},clear:function(){this.metadataType="",this.metadataMessage=""}}}},76384:(e,t,a)=>{a.d(t,{A:()=>i});const i={props:{modelValue:Object},emits:["update:model-value"],data:function(){return{step:[Number,String],showEditStepOptions:!1}},created:function(){this.step=this.modelValue&&this.modelValue.step?this.modelValue.step:1},methods:{onUpdateStep:function(e){this.$emit("update:model-value",{step:e})}}}},38835:(e,t,a)=>{a.d(t,{A:()=>i});const i={props:{filter:Object,modelValue:Object,id:"",disabled:!1},emits:["update:model-value"],data:function(){return{showIntervalOnTag:!0,intervals:[],isValid:!0}},created:function(){this.intervals=this.modelValue&&this.modelValue.intervals&&this.modelValue.intervals.length>0?this.modelValue.intervals:[{label:"",to:null,from:null}],this.showIntervalOnTag=!this.modelValue||null==this.modelValue.showIntervalOnTag||this.modelValue.showIntervalOnTag},methods:{onUpdate:_.debounce((function(e,t){null!=t&&1==t&&(null==e.to||null==e.from||""==e.to||""==e.from||Number(e.to)<Number(e.from))?(this.isValid=!1,""!=e.to&&""!=e.from&&null!=e.to&&null!=e.from&&this.showErrorMessage()):(this.isValid=!0,this.$emit("update:model-value",{intervals:this.intervals,showIntervalOnTag:this.showIntervalOnTag}))}),600),onUpdateShowIntervalOnTag:function(){this.isValid&&this.$emit("update:model-value",{intervals:this.intervals,showIntervalOnTag:this.showIntervalOnTag})},showErrorMessage:function(){this.$buefy.toast.open({duration:3e3,message:this.$i18n.get("info_error_first_value_greater"),position:"is-bottom",type:"is-danger"})},removeInterval:function(e){this.intervals.splice(e,1)},addInterval:function(e){null!=e?this.intervals.splice(e+1,0,{label:"",to:null,from:null}):this.intervals.push({label:"",to:null,from:null})}}}},12217:(e,t,a)=>{a.d(t,{A:()=>i});const i={props:{modelValue:Object},emits:["update:model-value"],data:function(){return{step:[Number,String],showEditStepOptions:!1,comparatorsObject:Object,comparators:Array}},created:function(){this.step=this.modelValue&&this.modelValue.step?this.modelValue.step:1,this.comparators=this.modelValue&&this.modelValue.comparators?this.modelValue.comparators:["=","!=",">",">=","<","<="],this.comparatorsObject={"=":{symbol:"&#61;",label:this.$i18n.get("is_equal_to"),enabled:this.comparators.indexOf("=")<0?"no":"yes"},"!=":{symbol:"&#8800;",label:this.$i18n.get("is_not_equal_to"),enabled:this.comparators.indexOf("!=")<0?"no":"yes"},">":{symbol:"&#62;",label:this.$i18n.get("after"),enabled:this.comparators.indexOf(">")<0?"no":"yes"},">=":{symbol:"&#8805;",label:this.$i18n.get("after_or_on_day"),enabled:this.comparators.indexOf(">=")<0?"no":"yes"},"<":{symbol:"&#60;",label:this.$i18n.get("before"),enabled:this.comparators.indexOf("<")<0?"no":"yes"},"<=":{symbol:"&#8804;",label:this.$i18n.get("before_or_on_day"),enabled:this.comparators.indexOf("<=")<0?"no":"yes"}}},methods:{emitValues:function(){this.$emit("update:model-value",{step:this.step,comparators:this.comparators})}}}},95996:(e,t,a)=>{a.d(t,{A:()=>l});var i=a(75552);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){r=function(){return t};var e,t={},a=Object.prototype,i=a.hasOwnProperty,o=Object.defineProperty||function(e,t,a){e[t]=a.value},l="function"==typeof Symbol?Symbol:{},s=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function u(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,a){return e[t]=a}}function p(e,t,a,i){var n=t&&t.prototype instanceof y?t:y,r=Object.create(n.prototype),l=new M(i||[]);return o(r,"_invoke",{value:O(e,a,l)}),r}function m(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",h="suspendedYield",v="executing",g="completed",b={};function y(){}function _(){}function k(){}var w={};u(w,s,(function(){return this}));var L=Object.getPrototypeOf,x=L&&L(L(S([])));x&&x!==a&&i.call(x,s)&&(w=x);var F=k.prototype=y.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function a(r,o,l,s){var c=m(e[r],e,o);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==n(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){a("next",e,l,s)}),(function(e){a("throw",e,l,s)})):t.resolve(u).then((function(e){d.value=e,l(d)}),(function(e){return a("throw",e,l,s)}))}s(c.arg)}var r;o(this,"_invoke",{value:function(e,i){function n(){return new t((function(t,n){a(e,i,t,n)}))}return r=r?r.then(n,n):n()}})}function O(t,a,i){var n=f;return function(r,o){if(n===v)throw Error("Generator is already running");if(n===g){if("throw"===r)throw o;return{value:e,done:!0}}for(i.method=r,i.arg=o;;){var l=i.delegate;if(l){var s=$(l,i);if(s){if(s===b)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===f)throw n=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=v;var c=m(t,a,i);if("normal"===c.type){if(n=i.done?g:h,c.arg===b)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=g,i.method="throw",i.arg=c.arg)}}}function $(t,a){var i=a.method,n=t.iterator[i];if(n===e)return a.delegate=null,"throw"===i&&t.iterator.return&&(a.method="return",a.arg=e,$(t,a),"throw"===a.method)||"return"!==i&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+i+"' method")),b;var r=m(n,t.iterator,a.arg);if("throw"===r.type)return a.method="throw",a.arg=r.arg,a.delegate=null,b;var o=r.arg;return o?o.done?(a[t.resultName]=o.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,b):o:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,b)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function S(t){if(t||""===t){var a=t[s];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function a(){for(;++r<t.length;)if(i.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(n(t)+" is not iterable")}return _.prototype=k,o(F,"constructor",{value:k,configurable:!0}),o(k,"constructor",{value:_,configurable:!0}),_.displayName=u(k,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,u(e,d,"GeneratorFunction")),e.prototype=Object.create(F),e},t.awrap=function(e){return{__await:e}},E(C.prototype),u(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,a,i,n,r){void 0===r&&(r=Promise);var o=new C(p(e,a,i,n),r);return t.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(F),u(F,d,"Generator"),u(F,s,(function(){return this})),u(F,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var i in t)a.push(i);return a.reverse(),function e(){for(;a.length;){var i=a.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=S,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!t)for(var a in this)"t"===a.charAt(0)&&i.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function n(i,n){return l.type="throw",l.arg=t,a.next=i,n&&(a.method="next",a.arg=e),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],l=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),V(a),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var i=a.completion;if("throw"===i.type){var n=i.arg;V(a)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,a,i){return this.delegate={iterator:S(t),resultName:a,nextLoc:i},"next"===this.method&&(this.arg=e),b}},t}function o(e,t,a,i,n,r,o){try{var l=e[r](o),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(i,n)}const l={props:{filter:Object,modelValue:Object,errors:Object},emits:["update:model-value"],data:function(){return{step:[Number,String],showEditStepOptions:!1,metadata:[],loading:!0,metadataType:"",metadataMessage:"",secondNumericMetadatumId:[Number,String],secondNumericMetadatumName:String,firstComparator:String,secondComparator:String,comparatorsObject:{},acceptNumericInterval:String,showEditFirstComparatorOptions:!1,showEditSecondComparatorOptions:!1}},watch:{errors:function(){this.errors&&""!==this.errors.secondary_filter_metadatum_id?this.setErrorsAttributes("is-danger",this.errors.secondary_filter_metadatum_id):this.setErrorsAttributes("","")}},created:function(){this.step=this.modelValue&&this.modelValue.step?this.modelValue.step:1,this.secondNumericMetadatumId=this.modelValue&&this.modelValue.secondary_filter_metadatum_id?this.modelValue.secondary_filter_metadatum_id:"",this.secondNumericMetadatumName=this.modelValue&&this.modelValue.secondary_filter_metadatum_name?this.modelValue.secondary_filter_metadatum_name:"",this.firstComparator=this.modelValue&&this.modelValue.first_comparator?this.modelValue.first_comparator:">=",this.secondComparator=this.modelValue&&this.modelValue.second_comparator?this.modelValue.second_comparator:"<=",this.acceptNumericInterval=this.modelValue&&this.modelValue.accept_numeric_interval?this.modelValue.accept_numeric_interval:"no",this.loading=!0,this.fetchMetadata(),this.comparatorsObject={"=":{symbol:"&#61;",label:this.$i18n.get("is_equal_to")},"!=":{symbol:"&#8800;",label:this.$i18n.get("is_not_equal_to")},">":{symbol:"&#62;",label:this.$i18n.get("greater_than")},">=":{symbol:"&#8805;",label:this.$i18n.get("greater_than_or_equal_to")},"<":{symbol:"&#60;",label:this.$i18n.get("less_than")},"<=":{symbol:"&#8804;",label:this.$i18n.get("less_than_or_equal_to")}}},methods:{fetchMetadata:function(){var e,t=this;return(e=r().mark((function e(){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.filter.collection_id&&"default"!==t.filter.collection_id?"/collection/"+t.filter.collection_id+"/metadata":"/metadata",a+="?metaquery[0][key]=metadata_type&metaquery[0][value]=Tainacan\\Metadata_Types\\Numeric&nopaging=1&exclude="+t.filter.metadatum_id,e.next=4,i.UY.get(a).then((function(e){t.loading=!1,t.metadata=e.data?e.data:[]})).catch((function(e){t.loading=!1,t.$console.log(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(i,n){var r=e.apply(t,a);function l(e){o(r,i,n,l,s,"next",e)}function s(e){o(r,i,n,l,s,"throw",e)}l(void 0)}))})()},onUpdateSecondNumericMetadatumId:function(){var e=this,t=this.metadata.find((function(t){return t.id==e.secondNumericMetadatumId}));this.secondNumericMetadatumName=t?t.name:"",this.secondNumericMetadatumId=t?t.id:"",this.emitValues()},emitValues:function(){this.$emit("update:model-value",{step:this.step,first_comparator:this.firstComparator,second_comparator:this.secondComparator,secondary_filter_metadatum_id:this.secondNumericMetadatumId,secondary_filter_metadatum_name:this.secondNumericMetadatumName,accept_numeric_interval:this.acceptNumericInterval})},setErrorsAttributes:function(e,t){this.metadataType=e,this.metadataMessage=t},clear:function(){this.metadataType="",this.metadataMessage=""}}}},97062:(e,t,a)=>{a.d(t,{A:()=>f});var i=a(6934),n=a(40834),r=a(56392),o=a(3012),l=a(48766);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return d(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var _n=0,i=function(){};return{s:i,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw n}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=Array(t);a<t;a++)i[a]=e[a];return i}function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const f={name:"FiltersPage",components:{FilterEditionForm:r.A,Sortable:l.L},beforeRouteLeave:function(e,t,a){var i=this,n=!1;for(var r in this.editForms)this.editForms[r].saved||(n=!0);""!=this.openedFilterId&&null!=this.openedFilterId||n?this.$buefy.modal.open({parent:this,component:o.default,props:{icon:"alert",title:this.$i18n.get("label_warning"),message:this.$i18n.get("info_warning_filters_not_saved"),onConfirm:function(){i.onEditionCanceled(),a()}},trapFocus:!0,customClass:"tainacan-modal",closeButtonAriaLabel:this.$i18n.get("close")}):a()},data:function(){return{isRepositoryLevel:!1,collectionId:"",isDraggingFromAvailable:!1,isLoadingMetadatumTypes:!0,isLoadingFilters:!1,isLoadingFilterTypes:!1,isLoadingFilter:!1,isSelectingFilterType:!1,isUpdatingFiltersOrder:!1,openedFilterId:"",formWithErrors:"",editForms:{},allowedFilterTypes:[],selectedFilterType:{},choosenMetadatum:{},newFilterIndex:0,availableMetadata:[],filterTypes:[],currentFilterTypePreview:void 0,columnsTopY:0,filtersSearchCancel:void 0,metadataSearchCancel:void 0,filterNameFilterString:"",metadatumNameFilterString:""}},computed:p(p({},(0,n.L8)("collection",{collection:"getCollection"})),{},{activeFiltersList:{get:function(){return this.getFilters()},set:function(e){this.updateFilters(e)}}}),watch:{"$route.query":{handler:function(e){if(null!=e.edit){var t=this.activeFiltersList.findIndex((function(t){return t.id==e.edit}));t>=0&&this.editFilter(this.activeFiltersList[t])}},immediate:!0,deep:!0}},created:function(){this.isRepositoryLevel=void 0===this.$route.params.collectionId},mounted:function(){var e=this;this.isRepositoryLevel||this.$emitter.emit("onCollectionBreadCrumbUpdate",[{path:"",label:this.$i18n.get("filter")}]),(0,i.dY)((function(){e.columnsTopY=e.$refs.filterEditionPageColumns?e.$refs.filterEditionPageColumns.getBoundingClientRect().top:0})),this.isRepositoryLevel?this.collectionId="default":this.collectionId=this.$route.params.collectionId,this.isLoadingFilterTypes=!0,this.fetchFilterTypes().then((function(t){e.isLoadingFilterTypes=!1,e.filterTypes=t})).catch((function(){e.isLoadingFilterTypes=!1})),null!=this.filtersSearchCancel&&this.filtersSearchCancel.cancel("Filters search Canceled."),this.refreshFilters(),this.$refs.filterTypeModal.onCancel=function(){e.onCancelFilterTypeSelection()}},beforeUnmount:function(){null!=this.filtersSearchCancel&&this.filtersSearchCancel.cancel("Metadata search Canceled."),null!=this.metadataSearchCancel&&this.metadataSearchCancel.cancel("Metadata search Canceled.")},methods:p(p(p(p(p({},(0,n.i0)("filter",["fetchFilterTypes","fetchFilters","sendFilter","deleteFilter","updateFilters","updateCollectionFiltersOrder","moveFilterUp","moveFilterDown"])),(0,n.L8)("filter",["getFilters"])),(0,n.i0)("metadata",["fetchMetadata"])),(0,n.L8)("metadata",["getMetadata"])),{},{handleChangeOnFilter:function(e){switch(e.type){case"add":this.prepareFilterTypeSelection(this.availableMetadata[e.oldIndex],e.newIndex);break;case"remove":this.removeFilter(this.activeFiltersList[e.oldIndex]);break;case"change":case"update":var t=JSON.parse(JSON.stringify(this.activeFiltersList)),a=t.splice(e.oldIndex,1)[0];t.splice(e.newIndex,0,a),this.updateFilters(t),this.isRepositoryLevel||this.updateFiltersOrder()}},prepareFilterTypeSelection:function(e,t){this.choosenMetadatum=e,this.newFilterIndex=t,this.allowedFilterTypes=[],this.selectedFilterType={};var a,i=c(this.filterTypes);try{for(i.s();!(a=i.n()).done;){var n,r=a.value,o=c(r.supported_types);try{for(o.s();!(n=o.n()).done;){var l=n.value;e.metadata_type_object.primitive_type==l&&this.allowedFilterTypes.push(r)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){i.e(e)}finally{i.f()}this.isSelectingFilterType=!0},addMetadatumViaButton:function(e,t){this.oldMetadatumIndex=t,this.availableMetadata.splice(t,1);var a=this.activeFiltersList.length;this.prepareFilterTypeSelection(e,a)},onFilterTypeSelected:function(e){this.isSelectingFilterType=!1,this.allowedFilterTypes=[],this.currentFilterTypePreview=void 0,this.selectedFilterType=e,this.createChoosenFilter()},onCancelFilterTypeSelection:function(){this.isSelectingFilterType=!1,this.allowedFilterTypes=[],this.currentFilterTypePreview=void 0,this.selectedFilterType={},this.availableMetadata.splice(this.oldMetadatumIndex,0,this.choosenMetadatum),this.choosenMetadatum={},this.activeFiltersList.splice(this.newFilterIndex,1)},handleChangeOnMetadata:function(e){"removed"==e.type&&(this.oldMetadatumIndex=e.removed.oldIndex)},updateFiltersOrder:function(){var e,t=this,a=[],i=c(this.activeFiltersList);try{for(i.s();!(e=i.n()).done;){var n=e.value;a.push({id:n.id,enabled:n.enabled})}}catch(e){i.e(e)}finally{i.f()}this.isUpdatingFiltersOrder=!0,this.updateCollectionFiltersOrder({collectionId:this.collectionId,filtersOrder:a}).then((function(){t.isUpdatingFiltersOrder=!1})).catch((function(){t.isUpdatingFiltersOrder=!1}))},updateListOfMetadata:function(){var e,t=JSON.parse(JSON.stringify(this.getMetadata())),a={},i="",n=c(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;a[""+r.id]=r.name}}catch(e){n.e(e)}finally{n.f()}var o,l=c(t);try{for(l.s();!(o=l.n()).done;){var s=o.value;s.parent>0&&a[s.parent]&&(s.parent_name=a[s.parent],i!==s.parent_name&&(s.first_child=!0),i=s.parent_name)}}catch(e){l.e(e)}finally{l.f()}var d,u=c(this.activeFiltersList);try{for(u.s();!(d=u.n()).done;)for(var p=d.value,m=t.length-1;m>=0;m--)null!=p.metadatum&&p.metadatum.metadatum_id==t[m].id&&t.splice(m,1)}catch(e){u.e(e)}finally{u.f()}this.availableMetadata=t.filter((function(e){return"tainacan-compound"!=e.metadata_type_object.component&&"tainacan-geocoordinate"!=e.metadata_type_object.component}))},onChangeEnable:function(e,t){var a,i=this,n=[],r=c(this.activeFiltersList);try{for(r.s();!(a=r.n()).done;){var o=a.value;n.push({id:o.id,enabled:o.enabled})}}catch(e){r.e(e)}finally{r.f()}n[t].enabled=e,this.isUpdatingFiltersOrder=!0,this.updateCollectionFiltersOrder({collectionId:this.collectionId,filtersOrder:n}).then((function(){i.isUpdatingFiltersOrder=!1})).catch((function(){i.isUpdatingFiltersOrder=!1}))},createChoosenFilter:function(){var e=this;this.sendFilter({collectionId:this.collectionId,metadatumId:this.choosenMetadatum.id,name:this.choosenMetadatum.parent_name?this.choosenMetadatum.name+" ("+this.choosenMetadatum.parent_name+")":this.choosenMetadatum.name,filterType:this.selectedFilterType.className,status:"auto-draft",isRepositoryLevel:this.isRepositoryLevel,newIndex:this.newFilterIndex}).then((function(t){e.isRepositoryLevel||e.updateFiltersOrder(),e.newFilterIndex=0,e.choosenMetadatum={},e.selectedFilterType={},e.allowedFilterTypes=[],e.toggleFilterEdition(t.id)})).catch((function(t){e.$console.error(t),e.newFilterIndex=0,e.choosenMetadatum={},e.selectedFilterType={},e.allowedFilterTypes=[]}))},removeFilter:function(e){var t=this;this.editForms[e.id]&&delete this.editForms[e.id],this.deleteFilter(e.id).then((function(){t.updateListOfMetadata()})).catch((function(e){t.$console.log(e)})),this.isRepositoryLevel||this.updateFiltersOrder()},confirmSelectedFilterType:function(){this.isSelectingFilterType=!1,this.createChoosenFilter()},cancelFilterTypeSelection:function(){this.isSelectingFilterType=!1,this.availableMetadata.push(this.choosenMetadatum),this.choosenMetadatum={},this.allowedFilterTypes=[],this.selectedFilterType={},this.newFilterIndex=0},toggleFilterEdition:function(e){this.openedFilterId==e?(this.openedFilterId="",this.$router.push({query:{}})):this.$router.push({query:{edit:e}})},editFilter:function(e){this.openedFilterId=e.id,null==this.editForms[this.openedFilterId]&&(this.editForms[this.openedFilterId]=JSON.parse(JSON.stringify(e)),this.editForms[this.openedFilterId].saved=!0,"auto-draft"==this.editForms[this.openedFilterId].status&&(this.editForms[this.openedFilterId].status="publish",this.editForms[this.openedFilterId].saved=!1))},onEditionFinished:function(){this.formWithErrors="",this.openedFilterId="",this.$router.push({query:{}})},onEditionCanceled:function(){this.formWithErrors="",this.openedFilterId="",this.$router.push({query:{}})},moveFilterUpViaButton:function(e){this.moveFilterUp(e),this.updateFiltersOrder()},moveFilterDownViaButton:function(e){this.moveFilterDown(e),this.updateFiltersOrder()},getProperPreviewMinHeight:function(){var e,t=c(this.allowedFilterTypes);try{for(t.s();!(e=t.n()).done;){var a=e.value;if("tainacan-filter-taginput"==a.component||"tainacan-filter-checkbox"==a.component||"tainacan-filter-taxonomy-taginput"==a.component||"tainacan-filter-taxonomy-checkbox"==a.component)return 330}}catch(e){t.e(e)}finally{t.f()}return 190},refreshFilters:function(){var e=this;this.isLoadingFilters=!0,this.fetchFilters({collectionId:this.collectionId,isRepositoryLevel:this.isRepositoryLevel,isContextEdit:!this.isOnTheme,includeDisabled:!0}).then((function(t){t.request.then((function(){if(e.isLoadingFilters=!1,e.isLoadingMetadatumTypes=!0,null!=e.$route.query.edit){var t=e.activeFiltersList.findIndex((function(t){return t.id==e.$route.query.edit}));t>=0&&e.editFilter(e.activeFiltersList[t])}null!=e.metadataSearchCancel&&e.metadataSearchCancel.cancel("Metadata search Canceled."),e.fetchMetadata({collectionId:e.collectionId,isRepositoryLevel:e.isRepositoryLevel,isContextEdit:!0,parent:"any",includeControlMetadataTypes:!0}).then((function(t){t.request.then((function(){e.isLoadingMetadatumTypes=!1,e.updateListOfMetadata()})).catch((function(){e.isLoadingMetadatumTypes=!1})),e.metadataSearchCancel=t.source})).catch((function(){return e.isLoadingMetadatumTypes=!1}))})).catch((function(){return e.isLoadingFilters=!1})),e.filtersSearchCancel=t.source})).catch((function(){return e.isLoadingFilters=!1}))}})}},98926:(e,t,a)=>{a.d(t,{X:()=>x});var i=a(6934),n={class:"options-columns"},r={class:"label is-inline"},o=["innerHTML"],l={class:"label is-inline"},s={class:"label is-inline"},c={class:"label is-inline"},d={class:"inline-block"},u={class:"label is-inline"},p={key:0,class:"is-flex"},m=["value"],f=["aria-label"],h={class:"icon"},v={key:1,class:"is-flex"},g={class:"icon"},b=["innerHTML"],y=["innerHTML"],_={class:"field is-grouped form-submit"},k={class:"control"},w={class:"control"},L={class:"help is-danger"};function x(e,t,a,x,F,E){var C=(0,i.g2)("help-button"),O=(0,i.g2)("b-input"),$=(0,i.g2)("b-field"),T=(0,i.g2)("b-switch"),V=(0,i.g2)("b-radio"),M=(0,i.g2)("b-select"),S=(0,i.g2)("b-button"),I=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("form",{id:"filterEditForm",class:"tainacan-form",onSubmit:t[22]||(t[22]=(0,i.D$)((function(e){return E.saveEdition(F.form)}),["prevent"]))},[(0,i.Lk)("div",n,[(0,i.bF)($,{addons:!1,type:null!=F.formErrors.name?"is-danger":"",message:null!=F.formErrors.name?F.formErrors.name:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",r,[(0,i.eW)((0,i.v_)(e.$i18n.get("label_name"))+" ",1),(0,i.Lk)("span",{class:(0,i.C4)(["required-metadatum-asterisk",null!=F.formErrors.name?"is-danger":""])},"*",2),(0,i.bF)(C,{title:e.$i18n.getHelperTitle("filters","name"),message:e.$i18n.getHelperMessage("filters","name")},null,8,["title","message"])]),(0,i.bF)(O,{modelValue:F.form.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return F.form.name=e}),name:"name",onFocus:t[1]||(t[1]=function(e){return E.clearErrors("name")})},null,8,["modelValue"])]})),_:1},8,["type","message"]),e.hasBeginLeftForm?((0,i.uX)(),(0,i.CE)("form",{key:0,id:"form-filter-begin-left",class:"form-hook-region",innerHTML:e.getBeginLeftForm},null,8,o)):(0,i.Q3)("",!0),(0,i.bF)($,{addons:!1,type:null!=F.formErrors.description?"is-danger":"",message:null!=F.formErrors.description?F.formErrors.description:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",l,[(0,i.eW)((0,i.v_)(e.$i18n.get("label_description"))+" ",1),(0,i.bF)(C,{title:e.$i18n.getHelperTitle("filters","description"),message:e.$i18n.getHelperMessage("filters","description")},null,8,["title","message"])]),(0,i.bF)(O,{modelValue:F.form.description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return F.form.description=e}),type:"textarea",name:"description",rows:3,onFocus:t[3]||(t[3]=function(e){return E.clearErrors("description")})},null,8,["modelValue"])]})),_:1},8,["type","message"]),(0,i.bF)($,{addons:!1,label:e.$i18n.getHelperTitle("filters","description_bellow_name"),type:null!=F.formErrors.description_bellow_name?"is-danger":"",message:null!=F.formErrors.description_bellow_name?F.formErrors.description_bellow_name:""},{default:(0,i.k6)((function(){return[t[23]||(t[23]=(0,i.eW)("   ")),(0,i.bF)(T,{modelValue:F.form.description_bellow_name,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return F.form.description_bellow_name=e}),t[5]||(t[5]=function(e){return E.clearErrors("description_bellow_name")})],size:"is-small","true-value":"yes","false-value":"no","native-value":"yes"==F.form.description_bellow_name?"yes":"no",name:"description_bellow_name"},{default:(0,i.k6)((function(){return[(0,i.bF)(C,{title:e.$i18n.getHelperTitle("filters","description_bellow_name"),message:e.$i18n.getHelperMessage("filters","description_bellow_name"),"extra-classes":a.isRepositoryLevel?"tainacan-repository-tooltip":""},null,8,["title","message","extra-classes"])]})),_:1},8,["modelValue","native-value"])]})),_:1},8,["label","type","message"]),F.form.filter_type_object.use_input_placeholder?((0,i.uX)(),(0,i.Wv)($,{key:1,addons:!1,type:null!=F.formErrors.placeholder?"is-danger":"",message:null!=F.formErrors.placeholder?F.formErrors.placeholder:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",s,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("filters","placeholder"))+" ",1),(0,i.bF)(C,{title:e.$i18n.getHelperTitle("filters","placeholder"),message:e.$i18n.getHelperMessage("filters","placeholder"),"extra-classes":a.isRepositoryLevel?"tainacan-repository-tooltip":""},null,8,["title","message","extra-classes"])]),(0,i.bF)(O,{modelValue:F.form.placeholder,"onUpdate:modelValue":t[6]||(t[6]=function(e){return F.form.placeholder=e}),name:"placeholder",onFocus:t[7]||(t[7]=function(e){return E.clearErrors("placeholder")})},null,8,["modelValue"])]})),_:1},8,["type","message"])):(0,i.Q3)("",!0),(0,i.bF)($,{addons:!1,type:null!=F.formErrors.status?"is-danger":"",message:null!=F.formErrors.status?F.formErrors.status:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",c,[(0,i.eW)((0,i.v_)(e.$i18n.get("label_status"))+" ",1),(0,i.bF)(C,{title:e.$i18n.getHelperTitle("filters","status"),message:e.$i18n.getHelperMessage("filters","status")},null,8,["title","message"])]),(0,i.Lk)("div",d,[(0,i.bF)(V,{id:"tainacan-select-status-publish",modelValue:F.form.status,"onUpdate:modelValue":t[8]||(t[8]=function(e){return F.form.status=e}),name:"status","native-value":"publish",onFocus:t[9]||(t[9]=function(e){return E.clearErrors("label_status")})},{default:(0,i.k6)((function(){return[t[24]||(t[24]=(0,i.Lk)("span",{class:"icon has-text-gray3"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-public"})],-1)),(0,i.eW)(" "+(0,i.v_)(e.$i18n.get("status_public")),1)]})),_:1},8,["modelValue"]),t[26]||(t[26]=(0,i.Lk)("br",null,null,-1)),(0,i.bF)(V,{id:"tainacan-select-status-private",modelValue:F.form.status,"onUpdate:modelValue":t[10]||(t[10]=function(e){return F.form.status=e}),name:"status","native-value":"private",onFocus:t[11]||(t[11]=function(e){return E.clearErrors("label_status")})},{default:(0,i.k6)((function(){return[t[25]||(t[25]=(0,i.Lk)("span",{class:"icon has-text-gray3"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-private"})],-1)),(0,i.eW)(" "+(0,i.v_)(e.$i18n.get("status_private")),1)]})),_:1},8,["modelValue"])])]})),_:1},8,["type","message"]),F.form.filter_type_object&&F.form.filter_type_object.use_max_options?((0,i.uX)(),(0,i.Wv)($,{key:2,addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",u,[(0,i.eW)((0,i.v_)(e.$i18n.get("label_max_options_to_show"))+" ",1),(0,i.bF)(C,{title:e.$i18n.getHelperTitle("filters","max_options"),message:e.$i18n.getHelperMessage("filters","max_options")},null,8,["title","message"])]),F.showEditMaxOptions?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",p,[(0,i.bF)(M,{modelValue:F.form.max_options,"onUpdate:modelValue":t[12]||(t[12]=function(e){return F.form.max_options=e}),name:"max_options",placeholder:e.$i18n.get("instruction_select_max_options_to_show")},{default:(0,i.k6)((function(){return[t[27]||(t[27]=(0,i.Lk)("option",{value:"4"}," 4 ",-1)),t[28]||(t[28]=(0,i.Lk)("option",{value:"8"}," 8 ",-1)),t[29]||(t[29]=(0,i.Lk)("option",{value:"12"}," 12 ",-1)),F.form.max_options&&![4,8,12].find((function(e){return e==F.form.max_options}))?((0,i.uX)(),(0,i.CE)("option",{key:0,value:F.form.max_options},(0,i.v_)(F.form.max_options),9,m)):(0,i.Q3)("",!0)]})),_:1},8,["modelValue","placeholder"]),(0,i.Lk)("button",{class:"button is-white is-pulled-right","aria-label":e.$i18n.getFrom("items","edit_item"),onClick:t[13]||(t[13]=(0,i.D$)((function(e){return F.showEditMaxOptions=!0}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",h,t[30]||(t[30]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)]))),[[I,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])],8,f)])),F.showEditMaxOptions?((0,i.uX)(),(0,i.CE)("div",v,[(0,i.bF)(O,{modelValue:F.form.max_options,"onUpdate:modelValue":t[14]||(t[14]=function(e){return F.form.max_options=e}),name:"max_options",type:"number",step:"1",max:F.maxOptionsLimit},null,8,["modelValue","max"]),(0,i.Lk)("button",{class:"button is-white is-pulled-right",onClick:t[15]||(t[15]=(0,i.D$)((function(e){return F.showEditMaxOptions=!1}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",g,t[31]||(t[31]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-close has-text-secondary"},null,-1)]))),[[I,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])])):(0,i.Q3)("",!0)]})),_:1})):(0,i.Q3)("",!0),(0,i.bF)($,{addons:!1,label:e.$i18n.getHelperTitle("filters","begin_with_filter_collapsed"),type:null!=F.formErrors.begin_with_filter_collapsed?"is-danger":"",message:null!=F.formErrors.begin_with_filter_collapsed?F.formErrors.begin_with_filter_collapsed:""},{default:(0,i.k6)((function(){return[t[32]||(t[32]=(0,i.eW)("   ")),(0,i.bF)(T,{modelValue:F.form.begin_with_filter_collapsed,"onUpdate:modelValue":[t[16]||(t[16]=function(e){return F.form.begin_with_filter_collapsed=e}),t[17]||(t[17]=function(e){return E.clearErrors("begin_with_filter_collapsed")})],size:"is-small","true-value":"yes","false-value":"no","native-value":"yes"==F.form.begin_with_filter_collapsed?"yes":"no",name:"begin_with_filter_collapsed"},{default:(0,i.k6)((function(){return[(0,i.bF)(C,{title:e.$i18n.getHelperTitle("filters","begin_with_filter_collapsed"),message:e.$i18n.getHelperMessage("filters","begin_with_filter_collapsed"),"extra-classes":a.isRepositoryLevel?"tainacan-repository-tooltip":""},null,8,["title","message","extra-classes"])]})),_:1},8,["modelValue","native-value"])]})),_:1},8,["label","type","message"]),F.form.collection_id&&"default"!==F.form.collection_id?((0,i.uX)(),(0,i.Wv)($,{key:3,addons:!1,label:e.$i18n.getHelperTitle("filters","display_in_repository_level_lists"),type:null!=F.formErrors.display_in_repository_level_lists?"is-danger":"",message:null!=F.formErrors.display_in_repository_level_lists?F.formErrors.display_in_repository_level_lists:""},{default:(0,i.k6)((function(){return[t[33]||(t[33]=(0,i.eW)("   ")),(0,i.bF)(T,{modelValue:F.form.display_in_repository_level_lists,"onUpdate:modelValue":[t[18]||(t[18]=function(e){return F.form.display_in_repository_level_lists=e}),t[19]||(t[19]=function(e){return E.clearErrors("display_in_repository_level_lists")})],size:"is-small","true-value":"yes","false-value":"no","native-value":"yes"==F.form.display_in_repository_level_lists?"yes":"no",name:"display_in_repository_level_lists"},{default:(0,i.k6)((function(){return[(0,i.bF)(C,{title:e.$i18n.getHelperTitle("filters","display_in_repository_level_lists"),message:e.$i18n.getHelperMessage("filters","display_in_repository_level_lists"),"extra-classes":a.isRepositoryLevel?"tainacan-repository-tooltip":""},null,8,["title","message","extra-classes"])]})),_:1},8,["modelValue","native-value"])]})),_:1},8,["label","type","message"])):(0,i.Q3)("",!0),F.form.filter_type_object&&F.form.filter_type_object.form_component||""==F.form.edit_form?((0,i.uX)(),(0,i.Wv)((0,i.$y)(F.form.filter_type_object.form_component),{key:4,modelValue:F.form.filter_type_options,"onUpdate:modelValue":t[20]||(t[20]=function(e){return F.form.filter_type_options=e}),errors:F.formErrors.filter_type_options,filter:F.form},null,8,["modelValue","errors","filter"])):((0,i.uX)(),(0,i.CE)("div",{key:5,innerHTML:F.form.edit_form},null,8,b)),e.hasEndLeftForm?((0,i.uX)(),(0,i.CE)("form",{key:6,id:"form-filter-end-left",class:"form-hook-region",innerHTML:e.getEndLeftForm},null,8,y)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",_,[(0,i.Lk)("div",k,[(0,i.Lk)("button",{type:"button",class:"button is-outlined",onClick:t[21]||(t[21]=(0,i.D$)((function(e){return E.cancelEdition()}),["prevent"]))},(0,i.v_)(e.$i18n.get("cancel")),1)]),(0,i.Lk)("div",w,[(0,i.bF)(S,{loading:F.isLoading,class:"button is-success","native-type":"submit"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,i.v_)(e.$i18n.get("save")),1)]})),_:1},8,["loading"])])]),(0,i.Lk)("p",L,(0,i.v_)(F.formErrorMessage),1)],32)}},40172:(e,t,a)=>{a.d(t,{X:()=>o});var i=a(6934),n={class:"label is-inline"},r=["innerHTML"];function o(e,t,a,o,l,s){var c=(0,i.g2)("help-button"),d=(0,i.g2)("b-checkbox"),u=(0,i.g2)("b-field");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(u,{addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",n,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-date","comparators")),1),t[2]||(t[2]=(0,i.Lk)("span",null," * ",-1)),(0,i.bF)(c,{title:e.$i18n.getHelperTitle("tainacan-filter-date","comparators"),message:e.$i18n.getHelperMessage("tainacan-filter-date","comparators")},null,8,["title","message"])]),(0,i.Lk)("div",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.comparatorsObject,(function(e,a){return(0,i.uX)(),(0,i.Wv)(d,{key:a,modelValue:l.comparators,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return l.comparators=e}),t[1]||(t[1]=function(e){return s.emitValues()})],"native-value":a,disabled:l.comparators.indexOf(a)>=0&&l.comparators.length<=1,name:"date_filter_options[comparators]"},{default:(0,i.k6)((function(){return[(0,i.Lk)("span",{innerHTML:e.symbol+" "+e.label},null,8,r)]})),_:2},1032,["modelValue","native-value","disabled"])})),128))])]})),_:1})])}},9976:(e,t,a)=>{a.d(t,{X:()=>_});var i=a(6934),n={class:"label is-inline"},r={style:{"font-size":"1.35em"}},o={value:""},l=["value"],s={key:0,class:"intersection-explainer-section"},c={style:{"font-size":"1.35em"}},d=["value","innerHTML"],u=["innerHTML"],p={key:2},m={class:"icon"},f={class:"icon"},h={class:"logic-divider"},v=["value","innerHTML"],g=["innerHTML"],b={class:"icon"},y={class:"icon"};function _(e,t,a,_,k,w){var L=(0,i.g2)("help-button"),x=(0,i.g2)("b-select"),F=(0,i.g2)("b-field"),E=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(F,{addons:!1,type:k.metadataType,message:k.metadataMessage},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",n,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-dates-intersection","secondary_filter_metadatum_id")),1),(0,i.Lk)("span",{class:(0,i.C4)(k.metadataType)}," * ",2),(0,i.Lk)("span",r,[(0,i.bF)(L,{title:e.$i18n.getHelperTitle("tainacan-filter-dates-intersection","secondary_filter_metadatum_id"),message:e.$i18n.getHelperMessage("tainacan-filter-dates-intersection","secondary_filter_metadatum_id")},null,8,["title","message"])])]),(0,i.bF)(x,{modelValue:k.secondDateMetadatumId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return k.secondDateMetadatumId=e}),name:"dates_intersect[secondary_filter_metadatum_id]",placeholder:e.$i18n.get("instruction_select_second_date_to_compare"),loading:k.loading,expanded:"",onChange:t[1]||(t[1]=function(e){return w.onUpdateSecondDateMetadatumId()}),onFocus:t[2]||(t[2]=function(e){return w.clear()})},{default:(0,i.k6)((function(){return[(0,i.Lk)("option",o,(0,i.v_)(e.$i18n.get("instruction_select_second_date_to_compare")),1),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(k.metadata.filter((function(e){return e.id!=a.filter.metadatum_id})),(function(e){return(0,i.uX)(),(0,i.CE)("option",{key:e.id,value:e.id},(0,i.v_)(e.name),9,l)})),128))]})),_:1},8,["modelValue","placeholder","loading"])]})),_:1},8,["type","message"]),k.secondDateMetadatumId?((0,i.uX)(),(0,i.CE)("fieldset",s,[(0,i.Lk)("legend",null,[(0,i.Lk)("p",null,[(0,i.Lk)("strong",null,(0,i.v_)(e.$i18n.get("info_intersection_explainer")),1),(0,i.Lk)("span",c,[(0,i.bF)(L,{title:e.$i18n.get("label_comparators"),message:e.$i18n.get("info_intersection_rules")},null,8,["title","message"])])])]),(0,i.bF)(F,{addons:!1},{default:(0,i.k6)((function(){return[k.showEditFirstComparatorOptions?((0,i.uX)(),(0,i.Wv)(x,{key:0,modelValue:k.firstComparator,"onUpdate:modelValue":[t[3]||(t[3]=function(e){return k.firstComparator=e}),t[4]||(t[4]=function(e){return w.emitValues()})]},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(k.comparatorsObject,(function(e,t){return(0,i.uX)(),(0,i.CE)("option",{key:t,value:t,innerHTML:e.symbol+" "+e.label},null,8,d)})),128))]})),_:1},8,["modelValue"])):((0,i.uX)(),(0,i.CE)("strong",{key:1,innerHTML:k.comparatorsObject[k.firstComparator].symbol},null,8,u)),a.filter.metadatum?((0,i.uX)(),(0,i.CE)("p",p,[t[11]||(t[11]=(0,i.eW)("   ")),(0,i.Lk)("em",null,(0,i.v_)(a.filter.metadatum.metadatum_name),1)])):(0,i.Q3)("",!0),k.showEditFirstComparatorOptions?((0,i.uX)(),(0,i.CE)("button",{key:4,class:"button is-white is-pulled-right",onClick:t[6]||(t[6]=(0,i.D$)((function(e){return k.showEditFirstComparatorOptions=!1}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",f,t[13]||(t[13]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-approved has-text-secondary"},null,-1)]))),[[E,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])):((0,i.uX)(),(0,i.CE)("button",{key:3,class:"button is-white is-pulled-right",onClick:t[5]||(t[5]=(0,i.D$)((function(e){return k.showEditFirstComparatorOptions=!0}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",m,t[12]||(t[12]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)]))),[[E,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])]))]})),_:1}),(0,i.Lk)("div",h,[(0,i.Lk)("span",null,(0,i.v_)(e.$i18n.get("label_and")),1)]),(0,i.bF)(F,{addons:!1},{default:(0,i.k6)((function(){return[k.showEditSecondComparatorOptions?((0,i.uX)(),(0,i.Wv)(x,{key:0,modelValue:k.secondComparator,"onUpdate:modelValue":[t[7]||(t[7]=function(e){return k.secondComparator=e}),t[8]||(t[8]=function(e){return w.emitValues()})]},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(k.comparatorsObject,(function(e,t){return(0,i.uX)(),(0,i.CE)("option",{key:t,value:t,innerHTML:e.symbol+" "+e.label},null,8,v)})),128))]})),_:1},8,["modelValue"])):((0,i.uX)(),(0,i.CE)("strong",{key:1,innerHTML:k.comparatorsObject[k.secondComparator].symbol},null,8,g)),(0,i.Lk)("p",null,[t[14]||(t[14]=(0,i.eW)(" ")),(0,i.Lk)("em",null,(0,i.v_)(k.secondDateMetadatumName),1)]),k.showEditSecondComparatorOptions?((0,i.uX)(),(0,i.CE)("button",{key:3,class:"button is-white is-pulled-right",onClick:t[10]||(t[10]=(0,i.D$)((function(e){return k.showEditSecondComparatorOptions=!1}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",y,t[16]||(t[16]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-approved has-text-secondary"},null,-1)]))),[[E,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])):((0,i.uX)(),(0,i.CE)("button",{key:2,class:"button is-white is-pulled-right",onClick:t[9]||(t[9]=(0,i.D$)((function(e){return k.showEditSecondComparatorOptions=!0}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",b,t[15]||(t[15]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)]))),[[E,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])]))]})),_:1})])):(0,i.Q3)("",!0)])}},55621:(e,t,a)=>{a.d(t,{X:()=>u});var i=a(6934),n={class:"label is-inline"},r={key:0,class:"is-flex"},o=["value"],l=["aria-label"],s={class:"icon"},c={key:1,class:"is-flex"},d={class:"icon"};function u(e,t,a,u,p,m){var f=(0,i.g2)("help-button"),h=(0,i.g2)("b-select"),v=(0,i.g2)("b-input"),g=(0,i.g2)("b-field"),b=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(g,{addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",n,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric-interval","step")),1),t[4]||(t[4]=(0,i.Lk)("span",null," * ",-1)),(0,i.bF)(f,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric-interval","step"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric-interval","step")},null,8,["title","message"])]),p.showEditStepOptions?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",r,[(0,i.bF)(h,{modelValue:p.step,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return p.step=e}),m.onUpdateStep],name:"step_options"},{default:(0,i.k6)((function(){return[t[5]||(t[5]=(0,i.Lk)("option",{value:"0.001"}," 0.001 ",-1)),t[6]||(t[6]=(0,i.Lk)("option",{value:"0.01"}," 0.01 ",-1)),t[7]||(t[7]=(0,i.Lk)("option",{value:"0.1"}," 0.1 ",-1)),t[8]||(t[8]=(0,i.Lk)("option",{value:"1"}," 1 ",-1)),t[9]||(t[9]=(0,i.Lk)("option",{value:"2"}," 2 ",-1)),t[10]||(t[10]=(0,i.Lk)("option",{value:"5"}," 5 ",-1)),t[11]||(t[11]=(0,i.Lk)("option",{value:"10"}," 10 ",-1)),t[12]||(t[12]=(0,i.Lk)("option",{value:"100"}," 100 ",-1)),t[13]||(t[13]=(0,i.Lk)("option",{value:"1000"}," 1000 ",-1)),p.step&&![.001,.01,.1,1,2,5,10,100,1e3].find((function(e){return e==p.step}))?((0,i.uX)(),(0,i.CE)("option",{key:0,value:p.step},(0,i.v_)(p.step),9,o)):(0,i.Q3)("",!0)]})),_:1},8,["modelValue","onUpdate:modelValue"]),(0,i.Lk)("button",{class:"button is-white is-pulled-right","aria-label":e.$i18n.get("edit"),onClick:t[1]||(t[1]=(0,i.D$)((function(e){return p.showEditStepOptions=!0}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",s,t[14]||(t[14]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)]))),[[b,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])],8,l)])),p.showEditStepOptions?((0,i.uX)(),(0,i.CE)("div",c,[(0,i.bF)(v,{modelValue:p.step,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return p.step=e}),m.onUpdateStep],name:"max_options",type:"number",step:"1"},null,8,["modelValue","onUpdate:modelValue"]),(0,i.Lk)("button",{class:"button is-white is-pulled-right",onClick:t[3]||(t[3]=(0,i.D$)((function(e){return p.showEditStepOptions=!1}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",d,t[15]||(t[15]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-close has-text-secondary"},null,-1)]))),[[b,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])])):(0,i.Q3)("",!0)]})),_:1})])}},294:(e,t,a)=>{a.d(t,{X:()=>d});var i=a(6934),n={class:"label is-inline"},r={class:"label is-inline"},o={class:"control"},l=["title","onClick"],s={key:0,class:"control"},c=["title","onClick"];function d(e,t,a,d,u,p){var m=(0,i.g2)("help-button"),f=(0,i.g2)("b-checkbox"),h=(0,i.g2)("b-field"),v=(0,i.g2)("b-input");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(h,{addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",n,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric-list-interval","showIntervalOnTag")),1),t[1]||(t[1]=(0,i.Lk)("span",null," ",-1)),(0,i.bF)(m,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric-list-interval","showIntervalOnTag"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric-list-interval","showIntervalOnTag")},null,8,["title","message"])]),(0,i.Lk)("div",null,[(0,i.bF)(h,null,{default:(0,i.k6)((function(){return[(0,i.bF)(f,{modelValue:u.showIntervalOnTag,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return u.showIntervalOnTag=e}),p.onUpdateShowIntervalOnTag]},{default:(0,i.k6)((function(){return[(0,i.eW)((0,i.v_)(e.$i18n.get("info_show_interval_on_tag")),1)]})),_:1},8,["modelValue","onUpdate:modelValue"])]})),_:1})])]})),_:1}),(0,i.bF)(h,{addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",r,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric-list-interval","intervals")),1),t[2]||(t[2]=(0,i.Lk)("span",null," ",-1)),(0,i.bF)(m,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric-list-interval","intervals"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric-list-interval","intervals")},null,8,["title","message"])]),(0,i.bF)(i.F,{name:"filter-item"},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(u.intervals,(function(a,n){return(0,i.uX)(),(0,i.CE)("div",{key:0+n,class:"options-input"},[(0,i.bF)(h,null,{default:(0,i.k6)((function(){return[(0,i.bF)(v,{modelValue:a.label,"onUpdate:modelValue":[function(e){return a.label=e},function(e){return p.onUpdate(a)}],expanded:"",placeholder:e.$i18n.get("label")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]})),_:2},1024),(0,i.bF)(h,null,{default:(0,i.k6)((function(){return[(0,i.bF)(v,{modelValue:a.from,"onUpdate:modelValue":[function(e){return a.from=e},function(e){return p.onUpdate(a,!0)}],expanded:"",type:"number",step:"0.01",placeholder:e.$i18n.get("info_initial_value")},null,8,["modelValue","onUpdate:modelValue","placeholder"]),(0,i.bF)(v,{modelValue:a.to,"onUpdate:modelValue":[function(e){return a.to=e},function(e){return p.onUpdate(a,!0)}],expanded:"",type:"number",step:"0.01",placeholder:e.$i18n.get("info_final_value")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]})),_:2},1024),(0,i.Lk)("p",o,[(0,i.Lk)("a",{role:"button",class:"add-link",title:e.$i18n.get("add_value"),onClick:function(e){return p.addInterval(n)}},[t[3]||(t[3]=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"tainacan-icon has-text-secondary tainacan-icon-add"})],-1)),(0,i.eW)("  "+(0,i.v_)(e.$i18n.get("add_value")),1)],8,l)]),u.intervals.length>1?((0,i.uX)(),(0,i.CE)("p",s,[(0,i.Lk)("a",{role:"button",class:"add-link",title:e.$i18n.get("remove_value"),onClick:function(e){return p.removeInterval(n)}},[t[4]||(t[4]=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"tainacan-icon has-text-secondary tainacan-icon-repprovedcircle"})],-1)),(0,i.eW)("  "+(0,i.v_)(e.$i18n.get("remove_value")),1)],8,c)])):(0,i.Q3)("",!0)])})),128))]})),_:1})]})),_:1})])}},6443:(e,t,a)=>{a.d(t,{X:()=>m});var i=a(6934),n={class:"label is-inline"},r={key:0,class:"is-flex"},o=["value"],l=["aria-label"],s={class:"icon"},c={key:1,class:"is-flex"},d={class:"icon"},u={class:"label is-inline"},p=["innerHTML"];function m(e,t,a,m,f,h){var v=(0,i.g2)("help-button"),g=(0,i.g2)("b-select"),b=(0,i.g2)("b-input"),y=(0,i.g2)("b-field"),_=(0,i.g2)("b-checkbox"),k=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(y,{addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",n,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric","step")),1),t[8]||(t[8]=(0,i.Lk)("span",null," * ",-1)),(0,i.bF)(v,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric","step"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric","step")},null,8,["title","message"])]),f.showEditStepOptions?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",r,[(0,i.bF)(g,{modelValue:f.step,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return f.step=e}),t[1]||(t[1]=function(e){return h.emitValues()})],name:"step_options"},{default:(0,i.k6)((function(){return[t[9]||(t[9]=(0,i.Lk)("option",{value:"0.001"}," 0.001 ",-1)),t[10]||(t[10]=(0,i.Lk)("option",{value:"0.01"}," 0.01 ",-1)),t[11]||(t[11]=(0,i.Lk)("option",{value:"0.1"}," 0.1 ",-1)),t[12]||(t[12]=(0,i.Lk)("option",{value:"1"}," 1 ",-1)),t[13]||(t[13]=(0,i.Lk)("option",{value:"2"}," 2 ",-1)),t[14]||(t[14]=(0,i.Lk)("option",{value:"5"}," 5 ",-1)),t[15]||(t[15]=(0,i.Lk)("option",{value:"10"}," 10 ",-1)),t[16]||(t[16]=(0,i.Lk)("option",{value:"100"}," 100 ",-1)),t[17]||(t[17]=(0,i.Lk)("option",{value:"1000"}," 1000 ",-1)),f.step&&![.001,.01,.1,1,2,5,10,100,1e3].find((function(e){return e==f.step}))?((0,i.uX)(),(0,i.CE)("option",{key:0,value:f.step},(0,i.v_)(f.step),9,o)):(0,i.Q3)("",!0)]})),_:1},8,["modelValue"]),(0,i.Lk)("button",{class:"button is-white is-pulled-right","aria-label":e.$i18n.get("edit"),onClick:t[2]||(t[2]=(0,i.D$)((function(e){return f.showEditStepOptions=!0}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",s,t[18]||(t[18]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)]))),[[k,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])],8,l)])),f.showEditStepOptions?((0,i.uX)(),(0,i.CE)("div",c,[(0,i.bF)(b,{modelValue:f.step,"onUpdate:modelValue":[t[3]||(t[3]=function(e){return f.step=e}),t[4]||(t[4]=function(e){return h.emitValues()})],name:"max_options",type:"number",step:"1"},null,8,["modelValue"]),(0,i.Lk)("button",{class:"button is-white is-pulled-right",onClick:t[5]||(t[5]=(0,i.D$)((function(e){return f.showEditStepOptions=!1}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",d,t[19]||(t[19]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-close has-text-secondary"},null,-1)]))),[[k,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])])):(0,i.Q3)("",!0)]})),_:1}),(0,i.bF)(y,{addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",u,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric","comparators")),1),t[20]||(t[20]=(0,i.Lk)("span",null," * ",-1)),(0,i.bF)(v,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric","comparators"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric","comparators")},null,8,["title","message"])]),(0,i.Lk)("div",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(f.comparatorsObject,(function(e,a){return(0,i.uX)(),(0,i.Wv)(_,{key:a,modelValue:f.comparators,"onUpdate:modelValue":[t[6]||(t[6]=function(e){return f.comparators=e}),t[7]||(t[7]=function(e){return h.emitValues()})],"native-value":a,disabled:f.comparators.indexOf(a)>=0&&f.comparators.length<=1,name:"numeric_filter_options[comparators]"},{default:(0,i.k6)((function(){return[(0,i.Lk)("span",{innerHTML:e.symbol+" "+e.label},null,8,p)]})),_:2},1032,["modelValue","native-value","disabled"])})),128))])]})),_:1})])}},90266:(e,t,a)=>{a.d(t,{X:()=>C});var i=a(6934),n={class:"label is-inline"},r={style:{"font-size":"1.35em"}},o={key:0,class:"is-flex"},l=["value"],s=["aria-label"],c={class:"icon"},d={key:1,class:"is-flex"},u={class:"icon"},p={class:"label is-inline"},m={value:""},f=["value"],h={key:0,class:"intersection-explainer-section"},v={style:{"font-size":"1.35em"}},g=["value","innerHTML"],b=["innerHTML"],y={key:2},_={class:"icon"},k={class:"icon"},w={class:"logic-divider"},L=["value","innerHTML"],x=["innerHTML"],F={class:"icon"},E={class:"icon"};function C(e,t,a,C,O,$){var T=(0,i.g2)("help-button"),V=(0,i.g2)("b-select"),M=(0,i.g2)("b-input"),S=(0,i.g2)("b-field"),I=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(S,{addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",n,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric-interval","step")),1),t[17]||(t[17]=(0,i.Lk)("span",null," * ",-1)),(0,i.Lk)("span",r,[(0,i.bF)(T,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric-interval","step"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric-interval","step")},null,8,["title","message"])])]),O.showEditStepOptions?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",o,[(0,i.bF)(V,{modelValue:O.step,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return O.step=e}),t[1]||(t[1]=function(e){return $.emitValues()})],name:"step_options"},{default:(0,i.k6)((function(){return[t[18]||(t[18]=(0,i.Lk)("option",{value:"0.001"}," 0.001 ",-1)),t[19]||(t[19]=(0,i.Lk)("option",{value:"0.01"}," 0.01 ",-1)),t[20]||(t[20]=(0,i.Lk)("option",{value:"0.1"}," 0.1 ",-1)),t[21]||(t[21]=(0,i.Lk)("option",{value:"1"}," 1 ",-1)),t[22]||(t[22]=(0,i.Lk)("option",{value:"2"}," 2 ",-1)),t[23]||(t[23]=(0,i.Lk)("option",{value:"5"}," 5 ",-1)),t[24]||(t[24]=(0,i.Lk)("option",{value:"10"}," 10 ",-1)),t[25]||(t[25]=(0,i.Lk)("option",{value:"100"}," 100 ",-1)),t[26]||(t[26]=(0,i.Lk)("option",{value:"1000"}," 1000 ",-1)),O.step&&![.001,.01,.1,1,2,5,10,100,1e3].find((function(e){return e==O.step}))?((0,i.uX)(),(0,i.CE)("option",{key:0,value:O.step},(0,i.v_)(O.step),9,l)):(0,i.Q3)("",!0)]})),_:1},8,["modelValue"]),(0,i.Lk)("button",{class:"button is-white is-pulled-right","aria-label":e.$i18n.get("edit"),onClick:t[2]||(t[2]=(0,i.D$)((function(e){return O.showEditStepOptions=!0}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",c,t[27]||(t[27]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)]))),[[I,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])],8,s)])),O.showEditStepOptions?((0,i.uX)(),(0,i.CE)("div",d,[(0,i.bF)(M,{modelValue:O.step,"onUpdate:modelValue":[t[3]||(t[3]=function(e){return O.step=e}),t[4]||(t[4]=function(e){return $.emitValues()})],name:"max_options",type:"number",step:"1"},null,8,["modelValue"]),(0,i.Lk)("button",{class:"button is-white is-pulled-right",onClick:t[5]||(t[5]=(0,i.D$)((function(e){return O.showEditStepOptions=!1}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",u,t[28]||(t[28]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-close has-text-secondary"},null,-1)]))),[[I,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])])):(0,i.Q3)("",!0)]})),_:1}),(0,i.bF)(S,{addons:!1,type:O.metadataType,message:O.metadataMessage},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",p,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-numerics-intersection","secondary_filter_metadatum_id")),1),(0,i.Lk)("span",{class:(0,i.C4)(O.metadataType)}," * ",2),(0,i.bF)(T,{title:e.$i18n.getHelperTitle("tainacan-filter-numerics-intersection","secondary_filter_metadatum_id"),message:e.$i18n.getHelperMessage("tainacan-filter-numerics-intersection","secondary_filter_metadatum_id")},null,8,["title","message"])]),(0,i.bF)(V,{modelValue:O.secondNumericMetadatumId,"onUpdate:modelValue":t[6]||(t[6]=function(e){return O.secondNumericMetadatumId=e}),name:"numerics_intersect[secondary_filter_metadatum_id]",placeholder:e.$i18n.get("instruction_select_second_numeric_to_compare"),loading:O.loading,expanded:"",onChange:t[7]||(t[7]=function(e){return $.onUpdateSecondNumericMetadatumId()}),onFocus:t[8]||(t[8]=function(e){return $.clear()})},{default:(0,i.k6)((function(){return[(0,i.Lk)("option",m,(0,i.v_)(e.$i18n.get("instruction_select_second_numeric_to_compare")),1),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(O.metadata.filter((function(e){return e.id!=a.filter.metadatum_id})),(function(e){return(0,i.uX)(),(0,i.CE)("option",{key:e.id,value:e.id},(0,i.v_)(e.name),9,f)})),128))]})),_:1},8,["modelValue","placeholder","loading"])]})),_:1},8,["type","message"]),O.secondNumericMetadatumId?((0,i.uX)(),(0,i.CE)("fieldset",h,[(0,i.Lk)("legend",null,[(0,i.Lk)("p",null,[(0,i.Lk)("strong",null,(0,i.v_)(e.$i18n.get("info_intersection_explainer")),1),(0,i.Lk)("span",v,[(0,i.bF)(T,{title:e.$i18n.get("label_comparators"),message:e.$i18n.get("info_intersection_rules")},null,8,["title","message"])])])]),(0,i.bF)(S,{addons:!1},{default:(0,i.k6)((function(){return[O.showEditFirstComparatorOptions?((0,i.uX)(),(0,i.Wv)(V,{key:0,modelValue:O.firstComparator,"onUpdate:modelValue":[t[9]||(t[9]=function(e){return O.firstComparator=e}),t[10]||(t[10]=function(e){return $.emitValues()})]},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(O.comparatorsObject,(function(e,t){return(0,i.uX)(),(0,i.CE)("option",{key:t,value:t,innerHTML:e.symbol+" "+e.label},null,8,g)})),128))]})),_:1},8,["modelValue"])):((0,i.uX)(),(0,i.CE)("strong",{key:1,innerHTML:O.comparatorsObject[O.firstComparator].symbol},null,8,b)),a.filter.metadatum?((0,i.uX)(),(0,i.CE)("p",y,[t[29]||(t[29]=(0,i.eW)("   ")),(0,i.Lk)("em",null,(0,i.v_)(a.filter.metadatum.metadatum_name),1)])):(0,i.Q3)("",!0),O.showEditFirstComparatorOptions?((0,i.uX)(),(0,i.CE)("button",{key:4,class:"button is-white is-pulled-right",onClick:t[12]||(t[12]=(0,i.D$)((function(e){return O.showEditFirstComparatorOptions=!1}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",k,t[31]||(t[31]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-approved has-text-secondary"},null,-1)]))),[[I,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])):((0,i.uX)(),(0,i.CE)("button",{key:3,class:"button is-white is-pulled-right",onClick:t[11]||(t[11]=(0,i.D$)((function(e){return O.showEditFirstComparatorOptions=!0}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",_,t[30]||(t[30]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)]))),[[I,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])]))]})),_:1}),(0,i.Lk)("div",w,[(0,i.Lk)("span",null,(0,i.v_)(e.$i18n.get("label_and")),1)]),(0,i.bF)(S,{addons:!1},{default:(0,i.k6)((function(){return[O.showEditSecondComparatorOptions?((0,i.uX)(),(0,i.Wv)(V,{key:0,modelValue:O.secondComparator,"onUpdate:modelValue":[t[13]||(t[13]=function(e){return O.secondComparator=e}),t[14]||(t[14]=function(e){return $.emitValues()})]},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(O.comparatorsObject,(function(e,t){return(0,i.uX)(),(0,i.CE)("option",{key:t,value:t,innerHTML:e.symbol+" "+e.label},null,8,L)})),128))]})),_:1},8,["modelValue"])):((0,i.uX)(),(0,i.CE)("strong",{key:1,innerHTML:O.comparatorsObject[O.secondComparator].symbol},null,8,x)),(0,i.Lk)("p",null,[t[32]||(t[32]=(0,i.eW)(" ")),(0,i.Lk)("em",null,(0,i.v_)(O.secondNumericMetadatumName),1)]),O.showEditSecondComparatorOptions?((0,i.uX)(),(0,i.CE)("button",{key:3,class:"button is-white is-pulled-right",onClick:t[16]||(t[16]=(0,i.D$)((function(e){return O.showEditSecondComparatorOptions=!1}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",E,t[34]||(t[34]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-approved has-text-secondary"},null,-1)]))),[[I,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])):((0,i.uX)(),(0,i.CE)("button",{key:2,class:"button is-white is-pulled-right",onClick:t[15]||(t[15]=(0,i.D$)((function(e){return O.showEditSecondComparatorOptions=!0}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",F,t[33]||(t[33]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)]))),[[I,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])]))]})),_:1})])):(0,i.Q3)("",!0)])}},3751:(e,t,a)=>{a.d(t,{X:()=>ee});var i=a(6934),n={class:"filters-list-page"},r={class:"column"},o={class:"tainacan-form sub-header"},l={key:0,class:"field is-grouped-centered section"},s={class:"content has-text-gray has-text-centered"},c={class:"handle"},d={key:0,class:"sorting-buttons"},u=["disabled","aria-label","onClick"],p=["disabled","aria-label","onClick"],m={key:1,class:"label-details"},f={key:0,class:"not-saved"},h={key:1,class:"icon"},v={class:"icon icon-level-identifier"},g={key:2,class:"loading-spinner"},b={key:3,class:"controls"},y=["onClick"],_={class:"icon"},k=["onClick"],w={class:"icon"},L={key:0,class:"column available-metadata-area"},x={class:"tainacan-form sub-header"},F={class:"field"},E=["onClick"],C={class:"icon grip-icon"},O={class:"metadatum-name"},$={key:0,class:"label-details",style:{"font-size":"0.875em"}},T={key:1,class:"icon"},V={class:"icon icon-level-identifier"},M={key:1,class:"field is-grouped-centered section"},S={class:"content has-text-gray has-text-centered"},I=["onClick"],X={key:1,class:"section"},H={class:"content has-text-grey has-text-centered"},A={autofocus:"",role:"dialog",tabindex:"-1","aria-modal":"",class:"tainacan-modal-content",style:{width:"auto"}},N={class:"tainacan-modal-title"},j={class:"tainacan-form"},U={class:"tainacan-form"},D={class:"columns"},P={class:"column"},R={role:"list",class:"filter-types-container"},W=["onClick","onMouseover","onMouseleave"],z={class:"column"},Q={class:"filter-type-label"},q={key:0,class:"field"},B={class:"collapse-handle"},Y={class:"label has-tooltip"},G=["innerHTML"],J={key:1,class:"has-text-gray"},K={class:"field is-grouped form-submit"},Z={class:"control"};function ee(e,t,a,ee,te,ae){var ie=(0,i.g2)("tainacan-title"),ne=(0,i.g2)("b-loading"),re=(0,i.g2)("b-input"),oe=(0,i.g2)("b-field"),le=(0,i.g2)("b-switch"),se=(0,i.g2)("filter-edition-form"),ce=(0,i.g2)("sortable"),de=(0,i.g2)("router-link"),ue=(0,i.g2)("b-modal"),pe=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",{class:(0,i.C4)({"repository-level-page page-container":te.isRepositoryLevel})},[(0,i.bF)(ie,{"bread-crumb-items":[{path:"",label:e.$i18n.get("filters")}]},null,8,["bread-crumb-items"]),te.isRepositoryLevel?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.Lk)("p",null,(0,i.v_)(e.$i18n.get("info_repository_filters_inheritance")),1),t[9]||(t[9]=(0,i.Lk)("br",null,null,-1))],64)):(0,i.Q3)("",!0),(0,i.Lk)("div",n,[(0,i.bF)(ne,{modelValue:te.isLoadingMetadatumTypes,"onUpdate:modelValue":t[0]||(t[0]=function(e){return te.isLoadingMetadatumTypes=e})},null,8,["modelValue"]),te.isRepositoryLevel&&e.$userCaps.hasCapability("tnc_rep_edit_filters")||!te.isRepositoryLevel&&e.collection&&e.collection.current_user_can_edit_filters?((0,i.uX)(),(0,i.CE)("div",{key:0,ref:"filterEditionPageColumns",style:(0,i.Tr)({height:ae.activeFiltersList.length<=0&&!te.isLoadingFilters?"auto":"calc(100vh - 6px - "+te.columnsTopY+"px)"}),class:"columns"},[(0,i.Lk)("div",r,[(0,i.Lk)("div",o,[(0,i.Lk)("h3",null,(0,i.v_)(e.$i18n.get("filters")),1),ae.activeFiltersList&&ae.activeFiltersList.length>5&&!te.isLoadingFilters?((0,i.uX)(),(0,i.Wv)(oe,{key:0,class:"header-item"},{default:(0,i.k6)((function(){return[(0,i.bF)(re,{modelValue:te.filterNameFilterString,"onUpdate:modelValue":t[1]||(t[1]=function(e){return te.filterNameFilterString=e}),placeholder:e.$i18n.get("instruction_type_search_filter_filter"),icon:"magnify",size:"is-small","icon-right":"close-circle","icon-right-clickable":"",onIconRightClick:t[2]||(t[2]=function(e){return te.filterNameFilterString=""})},null,8,["modelValue","placeholder"])]})),_:1})):(0,i.Q3)("",!0)]),ae.activeFiltersList.length<=0&&!te.isLoadingFilters?((0,i.uX)(),(0,i.CE)("section",l,[(0,i.Lk)("div",s,[t[10]||(t[10]=(0,i.Lk)("p",null,[(0,i.Lk)("span",{class:"icon is-large"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-36px tainacan-icon-filters"})])],-1)),(0,i.Lk)("p",null,(0,i.v_)(e.$i18n.get("info_there_is_no_filter")),1),(0,i.Lk)("p",null,(0,i.v_)(e.$i18n.get("info_create_filters")),1)])])):(0,i.Q3)("",!0),(0,i.bF)(ce,{list:ae.activeFiltersList,"item-key":"id",class:(0,i.C4)(["active-filters-area",{"filters-area-receive":te.isDraggingFromAvailable}]),options:{group:{name:"filters",pull:!1,put:!0},sort:(""==te.openedFilterId||null==te.openedFilterId)&&!te.isRepositoryLevel,handle:".handle",hostClass:"sortable-ghost",filter:".not-sortable-item",preventOnFilter:!1,animation:250},onUpdate:ae.handleChangeOnFilter,onAdd:ae.handleChangeOnFilter,onRemove:ae.handleChangeOnFilter},{item:(0,i.k6)((function(a){var n=a.element,r=a.index;return[(0,i.bo)((0,i.Lk)("div",{class:(0,i.C4)(["active-filter-item",{"not-sortable-item":te.isRepositoryLevel||te.isSelectingFilterType||null==n.id||""!=te.openedFilterId||te.choosenMetadatum.name==n.name||1==te.isUpdatingFiltersOrder||""!=te.filterNameFilterString,"not-focusable-item":te.openedFilterId==n.id,"disabled-filter":0==n.enabled,"inherited-filter":n.collection_id!=te.collectionId||te.isRepositoryLevel}])},[(0,i.Lk)("div",c,[te.isRepositoryLevel?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("span",d,[(0,i.Lk)("button",{disabled:0==r,class:"link-button","aria-label":e.$i18n.get("label_move_up"),onClick:function(e){return ae.moveFilterUpViaButton(r)}},t[11]||(t[11]=[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-previous tainacan-icon-rotate-90"})],-1)]),8,u),(0,i.Lk)("button",{disabled:r==ae.activeFiltersList.length-1,class:"link-button","aria-label":e.$i18n.get("label_move_down"),onClick:function(e){return ae.moveFilterDownViaButton(r)}},t[12]||(t[12]=[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-next tainacan-icon-rotate-90"})],-1)]),8,p)])),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",{style:(0,i.Tr)({opacity:te.isSelectingFilterType||null==n.id||""!=te.openedFilterId||te.choosenMetadatum.name==n.name||1==te.isUpdatingFiltersOrder||te.isRepositoryLevel||""!=te.filterNameFilterString?"0.0":"1.0"}),class:"icon grip-icon"},t[13]||(t[13]=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,i.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,i.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)]),4)),[[pe,{content:te.isSelectingFilterType||null==n.id||""!=te.openedFilterId||te.choosenMetadatum.name==n.name||1==te.isUpdatingFiltersOrder?e.$i18n.get("info_not_allowed_change_order_filters"):e.$i18n.get("instruction_drag_and_drop_filter_sort"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",te.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,i.Lk)("span",{class:(0,i.C4)(["filter-name",{"is-danger":te.formWithErrors==n.id}])},(0,i.v_)(n.name),3),null!=n.filter_type_object?((0,i.uX)(),(0,i.CE)("span",m,[(0,i.eW)(" ("+(0,i.v_)(n.filter_type_object.name)+") ",1),null!=te.editForms[n.id]&&1!=te.editForms[n.id].saved||"auto-draft"==n.status?((0,i.uX)(),(0,i.CE)("span",f,(0,i.v_)(e.$i18n.get("info_not_saved")),1)):(0,i.Q3)("",!0),"private"==n.status?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",h,t[14]||(t[14]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-private"},null,-1)]))),[[pe,{content:e.$i18n.get("status_private"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",te.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]):(0,i.Q3)("",!0),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",v,[(0,i.Lk)("i",{class:(0,i.C4)([{"tainacan-icon-collection":n.collection_id==te.collectionId,"tainacan-icon-repository":n.collection_id!=te.collectionId,"has-text-turquoise5":n.enabled&&"default"!=n.collection_id,"has-text-blue5":n.enabled&&"default"==n.collection_id,"has-text-gray3":!n.enabled},"tainacan-icon"])},null,2)])),[[pe,{content:n.collection_id!=te.collectionId?e.$i18n.get("label_repository_filter"):e.$i18n.get("label_collection_filter"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",te.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]])])):(0,i.Q3)("",!0),null==n.id?((0,i.uX)(),(0,i.CE)("span",g)):(0,i.Q3)("",!0),null!=n.filter_type?((0,i.uX)(),(0,i.CE)("span",b,[te.isRepositoryLevel?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(le,{key:0,disabled:te.isUpdatingFiltersOrder,size:"is-small","model-value":n.enabled,"onUpdate:modelValue":function(e){return ae.onChangeEnable(e,r)}},null,8,["disabled","model-value","onUpdate:modelValue"])),n.current_user_can_edit?((0,i.uX)(),(0,i.CE)("a",{key:1,style:(0,i.Tr)({visibility:n.collection_id==te.collectionId||te.isRepositoryLevel?"visible":"hidden"}),onClick:(0,i.D$)((function(e){return ae.toggleFilterEdition(n.id)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",_,t[15]||(t[15]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-edit"},null,-1)]))),[[pe,{content:e.$i18n.get("edit"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",te.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"bottom"}]])],12,y)):(0,i.Q3)("",!0),n.current_user_can_delete?((0,i.uX)(),(0,i.CE)("a",{key:2,style:(0,i.Tr)({visibility:n.collection_id!=te.collectionId&&!te.isRepositoryLevel||n.id==te.openedFilterId?"hidden":"visible"}),onClick:(0,i.D$)((function(e){return ae.removeFilter(n)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",w,t[16]||(t[16]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-delete"},null,-1)]))),[[pe,{content:e.$i18n.get("delete"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",te.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"bottom"}]])],12,k)):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)]),(0,i.bF)(i.eB,{name:"form-collapse"},{default:(0,i.k6)((function(){return[te.openedFilterId==n.id?((0,i.uX)(),(0,i.Wv)(oe,{key:0},{default:(0,i.k6)((function(){return[(0,i.bF)(se,{"is-repository-level":te.isRepositoryLevel,index:r,"original-filter":n,"edited-filter":te.editForms[te.openedFilterId],onOnEditionFinished:t[3]||(t[3]=function(e){return ae.onEditionFinished()}),onOnEditionCanceled:t[4]||(t[4]=function(e){return ae.onEditionCanceled()}),onOnErrorFound:function(e){return te.formWithErrors=n.id},onOnUpdateSavedState:function(e){return te.editForms[n.id].saved=e}},null,8,["is-repository-level","index","original-filter","edited-filter","onOnErrorFound","onOnUpdateSavedState"])]})),_:2},1024)):(0,i.Q3)("",!0)]})),_:2},1024)],2),[[i.aG,""==te.filterNameFilterString||n.name.toString().toLowerCase().indexOf(te.filterNameFilterString.toString().toLowerCase())>=0]])]})),_:1},8,["list","class","options","onUpdate","onAdd","onRemove"])]),te.isRepositoryLevel&&e.$userCaps.hasCapability("tnc_rep_edit_filters")||!te.isRepositoryLevel?((0,i.uX)(),(0,i.CE)("div",L,[(0,i.Lk)("div",x,[(0,i.Lk)("h3",null,(0,i.v_)(e.$i18n.get("label_available_metadata")),1),te.availableMetadata&&te.availableMetadata.length>5&&!te.isLoadingMetadatumTypes?((0,i.uX)(),(0,i.Wv)(oe,{key:0,class:"header-item"},{default:(0,i.k6)((function(){return[(0,i.bF)(re,{modelValue:te.metadatumNameFilterString,"onUpdate:modelValue":t[5]||(t[5]=function(e){return te.metadatumNameFilterString=e}),placeholder:e.$i18n.get("instruction_type_search_metadata_filter"),icon:"magnify",size:"is-small","icon-right":"close-circle","icon-right-clickable":"",onIconRightClick:t[6]||(t[6]=function(e){return te.metadatumNameFilterString=""})},null,8,["modelValue","placeholder"])]})),_:1})):(0,i.Q3)("",!0)]),(0,i.Lk)("div",F,[te.availableMetadata.length>0&&!te.isLoadingMetadatumTypes?((0,i.uX)(),(0,i.Wv)(ce,{key:0,list:te.availableMetadata,"item-key":"id",options:{group:{name:"filters",pull:!te.isSelectingFilterType,put:!1,revertClone:!0},sort:!1,filter:".not-sortable-item",preventOnFilter:!1,dragClass:"sortable-drag"},onChange:ae.handleChangeOnMetadata},{item:(0,i.k6)((function(a){var n=a.element,r=a.index;return[n.enabled?(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,i.C4)(["available-metadatum-item",{"inherited-metadatum":n.inherited||te.isRepositoryLevel,"disabled-metadatum":te.isSelectingFilterType}]),onClick:(0,i.D$)((function(e){return ae.addMetadatumViaButton(n,r)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",C,t[17]||(t[17]=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,i.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,i.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)]))),[[pe,{content:e.$i18n.get("instruction_click_or_drag_filter_create"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",te.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",O,[(0,i.eW)((0,i.v_)(n.name)+" ",1),n.parent_name?((0,i.uX)(),(0,i.CE)("span",$,[(0,i.Lk)("em",null,(0,i.v_)("("+e.$i18n.get("info_child_of")+" "+n.parent_name+")"),1)])):(0,i.Q3)("",!0),"private"===n.status?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",T,t[18]||(t[18]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-private"},null,-1)]))),[[pe,{content:e.$i18n.get("status_private"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]):(0,i.Q3)("",!0)])),[[pe,{content:n.name+(n.parent_name?" ("+e.$i18n.get("info_child_of")+" "+n.parent_name+")":""),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",te.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",V,[(0,i.Lk)("i",{class:(0,i.C4)([{"tainacan-icon-collection has-text-turquoise5":n.collection_id==te.collectionId&&!te.isRepositoryLevel,"tainacan-icon-repository has-text-blue5":te.isRepositoryLevel||n.collection_id!=te.collectionId},"tainacan-icon"])},null,2)])),[[pe,{content:te.isRepositoryLevel||n.collection_id!=te.collectionId?e.$i18n.get("label_repository_filter"):e.$i18n.get("label_collection_filter"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",te.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]])],10,E)),[[i.aG,""==te.metadatumNameFilterString||n.name.toString().toLowerCase().indexOf(te.metadatumNameFilterString.toString().toLowerCase())>=0]]):(0,i.Q3)("",!0)]})),_:1},8,["list","options","onChange"])):(0,i.Q3)("",!0),te.availableMetadata.length<=0&&!te.isLoadingMetadatumTypes?((0,i.uX)(),(0,i.CE)("section",M,[(0,i.Lk)("div",S,[t[19]||(t[19]=(0,i.Lk)("p",null,[(0,i.Lk)("span",{class:"icon is-large"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-36px tainacan-icon-metadata"})])],-1)),(0,i.Lk)("p",null,(0,i.v_)(e.$i18n.get("info_there_is_no_metadatum")),1),(0,i.bF)(de,{to:te.isRepositoryLevel?e.$routerHelper.getNewMetadatumPath():e.$routerHelper.getNewCollectionMetadatumPath(te.collectionId),custom:""},{default:(0,i.k6)((function(t){var a=t.navigate;return[(0,i.Lk)("button",{id:"button-create-metadatum",role:"link",ttype:"button",class:"button is-secondary is-centered",onClick:function(e){return a()}},(0,i.v_)(e.$i18n.getFrom("metadata","new_item")),9,I)]})),_:1},8,["to"])])])):(0,i.Q3)("",!0)])])):(0,i.Q3)("",!0)],4)):((0,i.uX)(),(0,i.CE)("section",X,[(0,i.Lk)("div",H,[t[20]||(t[20]=(0,i.Lk)("p",null,[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-30px tainacan-icon-filters"})])],-1)),(0,i.Lk)("p",null,(0,i.v_)(e.$i18n.get("info_can_not_edit_filters")),1)])])),(0,i.bF)(ue,{ref:"filterTypeModal",modelValue:te.isSelectingFilterType,"onUpdate:modelValue":t[8]||(t[8]=function(e){return te.isSelectingFilterType=e}),width:680,"trap-focus":"","aria-modal":"","aria-role":"dialog","custom-class":"tainacan-modal","close-button-aria-label":e.$i18n.get("close")},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",A,[(0,i.Lk)("header",N,[(0,i.Lk)("h2",null,(0,i.v_)(e.$i18n.get("label_available_filter_types")),1),t[21]||(t[21]=(0,i.Lk)("hr",null,null,-1))]),(0,i.Lk)("section",j,[(0,i.Lk)("form",U,[(0,i.Lk)("div",D,[(0,i.Lk)("div",P,[(0,i.Lk)("div",R,[(0,i.Lk)("p",null,(0,i.v_)(e.$i18n.get("instruction_click_to_select_a_filter_type")),1),t[22]||(t[22]=(0,i.Lk)("br",null,null,-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(te.allowedFilterTypes,(function(e,t){return(0,i.uX)(),(0,i.CE)("div",{key:t,role:"listitem",class:"filter-type",onClick:function(t){return ae.onFilterTypeSelected(e)},onMouseover:function(t){return te.currentFilterTypePreview={name:e.name,template:e.preview_template}},onMouseleave:function(t){return te.currentFilterTypePreview={name:e.name,template:e.preview_template}}},[(0,i.Lk)("h4",null,(0,i.v_)(e.name),1)],40,W)})),128))])]),(0,i.Lk)("div",z,[(0,i.Lk)("div",{style:(0,i.Tr)({"min-height":ae.getProperPreviewMinHeight()+"px"}),class:"filter-type-preview"},[(0,i.Lk)("span",Q,(0,i.v_)(e.$i18n.get("label_filter_type_preview")),1),null!=te.currentFilterTypePreview&&""!=te.currentFilterTypePreview.template?((0,i.uX)(),(0,i.CE)("div",q,[(0,i.Lk)("span",B,[t[23]||(t[23]=(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"has-text-secondary tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"})],-1)),(0,i.Lk)("label",Y,(0,i.v_)(te.currentFilterTypePreview.name),1)]),(0,i.Lk)("div",{innerHTML:te.currentFilterTypePreview.template},null,8,G)])):((0,i.uX)(),(0,i.CE)("span",J,(0,i.v_)(e.$i18n.get("instruction_hover_a_filter_type_to_preview")),1))],4)])])]),(0,i.Lk)("footer",K,[(0,i.Lk)("div",Z,[(0,i.Lk)("button",{class:"button is-outlined",type:"button",onClick:t[7]||(t[7]=function(e){return ae.onCancelFilterTypeSelection()})},(0,i.v_)(e.$i18n.get("cancel")),1)])])])])]})),_:1},8,["modelValue","close-button-aria-label"])])],2)}},74042:(e,t,a)=>{a.d(t,{$J:()=>u,X3:()=>p,lg:()=>d});var i=a(75552),n=a(55373),r=a.n(n),o=a(95093),l=a.n(o);function s(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return c(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var _n=0,i=function(){};return{s:i,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw n}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=Array(t);a<t;a++)i[a]=e[a];return i}var d={methods:{getSamplePermalink:function(e,t,a){return i.M3.post("",r().stringify({action:"tainacan-sample-permalink",post_id:e,new_title:t,new_slug:a}))}}},u={created:function(){var e=navigator.language;l().locale(e);var t=l().localeData();this.dateFormat=t.longDateFormat("L")?t.longDateFormat("L"):"pt_BR"==t._abbr?"DD/MM/YYYY":"YYYY-MM-DD",this.dateMask=this.dateFormat.replace(/[\w]/g,"0")},data:function(){return{dateFormat:"",dateMask:""}},methods:{parseDateToNavigatorLanguage:function(e){return e=new Date(e.replace(/-/g,"/")),l()(e,l().ISO_8601).format(this.dateFormat)}}},p={data:function(){return{formHooks:JSON.parse(JSON.stringify(tainacan_plugin.form_hooks)),formHookEventName:""}},computed:{hasBeginLeftForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["begin-left"]&&this.formHooks[this.entityName]["begin-left"].length>0},hasBeginRightForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["begin-right"]&&this.formHooks[this.entityName]["begin-right"].length>0},hasEndLeftForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["end-left"]&&this.formHooks[this.entityName]["end-left"].length>0},hasEndRightForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["end-right"]&&this.formHooks[this.entityName]["end-right"].length>0},getBeginLeftForm:function(){var e=this;return this.formHooks[this.entityName]["begin-left"].map((function(t){return e.checkFormConditionals(t)})).join("")},getBeginRightForm:function(){var e=this;return this.formHooks[this.entityName]["begin-right"].map((function(t){return e.checkFormConditionals(t)})).join("")},getEndLeftForm:function(){var e=this;return this.formHooks[this.entityName]["end-left"].map((function(t){return e.checkFormConditionals(t)})).join("")},getEndRightForm:function(){var e=this;return this.formHooks[this.entityName]["end-right"].map((function(t){return e.checkFormConditionals(t)})).join("")}},created:function(){this.formHookEventName="tainacan-"+this.entityName+"-hook-reload",this.formHookEvent=new Event(this.formHookEventName)},updated:function(){this.formHooks[this.entityName]&&document.dispatchEvent(this.formHookEvent)},methods:{fillExtraFormData:function(e){for(var t=0,a=["begin-left","begin-right","end-left","end-right"];t<a.length;t++){var i=a[t];if(this.formHooks[this.entityName]&&this.formHooks[this.entityName][i]&&null!=this.formHooks[this.entityName][i]){var n=document.getElementById("form-"+this.entityName+"-"+i);if(n){var r,o=s(n.elements);try{for(o.s();!(r=o.n()).done;){var l=r.value;"checkbox"==l.type||"select"==l.type&&null!=l.multiple&&1==l.multiple?l.checked&&null!=l.name&&""!=l.name&&(Array.isArray(e[l.name])||(e[l.name]=[]),e[l.name].push(l.value)):"radio"==l.type?l.checked&&null!=l.name&&""!=l.name&&(e[l.name]=l.value):e[l.name]=l.value}}catch(e){o.e(e)}finally{o.f()}}}}},updateExtraFormData:function(e){for(var t=0,a=["begin-left","begin-right","end-left","end-right"];t<a.length;t++){var i=a[t];if(this.formHooks[this.entityName]&&this.formHooks[this.entityName][i]&&null!=this.formHooks[this.entityName][i]){var n=document.getElementById("form-"+this.entityName+"-"+i);if(n){var r,o=s(n.elements);try{var l=function(){for(var t=r.value,a=0,i=Object.keys(e);a<i.length;a++){var n=i[a];if(t.name==n)if(Array.isArray(e[n])){var o=e[n].find((function(e){return e==t.value}));t.checked=null!=o}else null!=e[n]&&null!=e[n]&&""!=e[n]&&("radio"==t.type?t.checked=e[n]==t.value:t.value=e[n])}};for(o.s();!(r=o.n()).done;)l()}catch(e){o.e(e)}finally{o.f()}}}}},checkFormConditionals:function(e){return e.form?e.conditional&&e.conditional.attribute&&e.conditional.value?this.form&&this.form[e.conditional.attribute]===e.conditional.value?e.form:"":e.form:""}}}},39681:(e,t,a)=>{a.d(t,{A:()=>l});var i=a(31601),n=a.n(i),r=a(76314),o=a.n(r)()(n());o.push([e.id,"form#filterEditForm[data-v-2151c04c]{padding:1.5em var(--tainacan-one-column) 0.5em var(--tainacan-one-column);border-top:1px solid var(--tainacan-gray2);border-bottom:1px solid var(--tainacan-gray2);margin-top:1.0em;font-size:1.1em}form#filterEditForm .options-columns[data-v-2151c04c]{-moz-column-count:2;-moz-column-gap:0;-moz-column-rule:none;-webkit-column-count:2;-webkit-column-gap:0;-webkit-column-rule:none;column-count:2;column-gap:3em;column-rule:none;padding-bottom:0.5em}form#filterEditForm .options-columns>.field[data-v-2151c04c],form#filterEditForm .options-columns>section[data-v-2151c04c]{-webkit-column-break-inside:avoid;page-break-inside:avoid;break-inside:avoid}form#filterEditForm .options-columns .field>.field[data-v-2151c04c]:not(:last-child){margin-bottom:0em}form#filterEditForm .options-columns .tainacan-help-tooltip-trigger[data-v-2151c04c]{font-size:1.25em}form#filterEditForm .form-submit[data-v-2151c04c]{margin-bottom:0.75em}\n",""]);const l=o},59951:(e,t,a)=>{a.d(t,{A:()=>l});var i=a(31601),n=a.n(i),r=a(76314),o=a.n(r)()(n());o.push([e.id,".intersection-explainer-section[data-v-9b609966]{margin-top:1.25rem;padding:0.75em 0.75em 0.25em 0.75em;border:1px solid var(--tainacan-gray1)}.intersection-explainer-section legend[data-v-9b609966]{margin:-0.75em 0 0em 0;background-color:var(--tainacan-background-color);padding:5px 5px 5px 0px}.intersection-explainer-section .field[data-v-9b609966]{display:flex;gap:0.5em;margin:0 -0.5em 0.5em 0em;align-items:center}.intersection-explainer-section .field strong[data-v-9b609966]{margin-left:0.75em}.intersection-explainer-section button[data-v-9b609966]{border-radius:100em !important;margin-left:auto}.intersection-explainer-section .logic-divider[data-v-9b609966]{display:none}\n",""]);const l=o},30003:(e,t,a)=>{a.d(t,{A:()=>l});var i=a(31601),n=a.n(i),r=a(76314),o=a.n(r)()(n());o.push([e.id,".options-input[data-v-ffeff5ce]{display:flex;flex-wrap:wrap;justify-content:space-between}.options-input .field[data-v-ffeff5ce]:first-child{width:100%;margin-top:1em;margin-bottom:-1px}.options-input .field.has-addons[data-v-ffeff5ce]{margin-bottom:0.125em;width:100%;display:flex;flex-wrap:wrap}.options-input .field.has-addons>.control[data-v-ffeff5ce]{flex-basis:50%}\n",""]);const l=o},34085:(e,t,a)=>{a.d(t,{A:()=>l});var i=a(31601),n=a.n(i),r=a(76314),o=a.n(r)()(n());o.push([e.id,".intersection-explainer-section[data-v-994e7f18]{margin-top:1.25rem;padding:0.75em 0.75em 0.25em 0.75em;border:1px solid var(--tainacan-gray1)}.intersection-explainer-section legend[data-v-994e7f18]{margin:-0.75em 0 0em 0;background-color:var(--tainacan-background-color);padding:5px 5px 5px 0px}.intersection-explainer-section .field[data-v-994e7f18]{display:flex;gap:0.5em;margin:0 -0.5em 0.5em 0em;align-items:center}.intersection-explainer-section .field strong[data-v-994e7f18]{margin-left:0.75em}.intersection-explainer-section button[data-v-994e7f18]{border-radius:100em !important;margin-left:auto}.intersection-explainer-section .logic-divider[data-v-994e7f18]{display:none}\n",""]);const l=o},26624:(e,t,a)=>{a.d(t,{A:()=>p});var i=a(31601),n=a.n(i),r=a(76314),o=a.n(r),l=a(4417),s=a.n(l),c=new URL(a(78591),a.b),d=o()(n()),u=s()(c);d.push([e.id,`.filters-list-page{padding-bottom:0}.filters-list-page .tainacan-page-title{margin-bottom:28px;display:flex;flex-wrap:wrap;align-items:flex-end;justify-content:space-between}.filters-list-page .tainacan-page-title h1,.filters-list-page .tainacan-page-title h2{font-size:1.25em;font-weight:500;color:var(--tainacan-heading-color);display:inline-block;width:80%;flex-shrink:1;flex-grow:1}.filters-list-page .tainacan-page-title a.back-link{font-weight:500;float:right;margin-top:5px}.filters-list-page .tainacan-page-title hr{margin:3px 0px 4px 0px;height:1px;background-color:var(--tainacan-secondary);width:100%}.filters-list-page .column{overflow-x:hidden;overflow-y:auto;padding:0.75em 0}.filters-list-page .column>section.field{position:absolute}.filters-list-page .column:not(.available-metadata-area){margin-right:30px;flex-grow:2}@media screen and (max-width: 769px){.filters-list-page .column:not(.available-metadata-area){margin-right:0}}.filters-list-page .column h3{font-weight:500}.filters-list-page .sub-header{display:flex;align-items:center;justify-content:space-between;padding:0.5em 1em 0.5em 0.5em}.filters-list-page .sub-header .header-item{margin-left:0.75rem;margin-bottom:0px}.filters-list-page .sub-header h3{margin-right:auto}.filters-list-page .loading-spinner{animation:spinAround 500ms infinite linear;border:2px solid var(--tainacan-gray2);border-radius:290486px;border-right-color:transparent;border-top-color:transparent;content:"";display:inline-block;height:1em;width:1em}.filters-list-page .active-filters-area{font-size:0.875em;margin-left:1.5em;padding-right:1em;padding-top:1em;min-height:330px}@media screen and (max-width: 769px){.filters-list-page .active-filters-area{min-height:45px;margin:0;padding-right:0em}}@media screen and (max-width: 1216px){.filters-list-page .active-filters-area{padding-right:1em}}.filters-list-page .active-filters-area.filters-area-receive{border:1px dashed var(--tainacan-gray4)}.filters-list-page .active-filters-area .collapse{display:initial}.filters-list-page .active-filters-area .active-filter-item{background-color:var(--tainacan-white);padding:0.7em 0.9em;margin:4px;min-height:2.8571em;position:relative;display:block;transition:top 0.1s ease;cursor:grab}.filters-list-page .active-filters-area .active-filter-item form.tainacan-form{padding:1.0em 2.0em;margin-top:1.0em;border-top:1px solid var(--tainacan-gray2);border-bottom:1px solid var(--tainacan-gray2)}.filters-list-page .active-filters-area .active-filter-item>.field,.filters-list-page .active-filters-area .active-filter-item form{background-color:var(--tainacan-white) !important}.filters-list-page .active-filters-area .active-filter-item .sorting-buttons{display:flex;flex-direction:column;position:absolute;overflow:hidden;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:3px;border-bottom-left-radius:3px;font-size:0.875em;left:0em;top:0px;opacity:0;visibility:hidden;transition:opacity 0.2s ease, left 0.2s ease}.filters-list-page .active-filters-area .active-filter-item .sorting-buttons button{border:none;background:var(--tainacan-turquoise1)}.filters-list-page .active-filters-area .active-filter-item .sorting-buttons button:hover{color:var(--tainacan-secondary)}.filters-list-page .active-filters-area .active-filter-item:not(.not-sortable-item):hover .sorting-buttons{opacity:1.0;visibility:visible;left:-2em}.filters-list-page .active-filters-area .active-filter-item .handle{padding-right:6em;white-space:nowrap;display:flex}.filters-list-page .active-filters-area .active-filter-item .grip-icon{color:var(--tainacan-gray3);position:relative;flex-shrink:0}.filters-list-page .active-filters-area .active-filter-item .filter-name{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;font-weight:bold;margin-left:0.4em;margin-right:0.4em}.filters-list-page .active-filters-area .active-filter-item .filter-name.is-danger{color:var(--tainacan-danger) !important}.filters-list-page .active-filters-area .active-filter-item .label-details{font-weight:normal;color:var(--tainacan-gray3);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filters-list-page .active-filters-area .active-filter-item .not-saved{font-style:italic;font-weight:bold;color:var(--tainacan-danger);margin-left:0.5em}.filters-list-page .active-filters-area .active-filter-item .controls{font-size:0.875em;position:absolute;right:10px;top:10px}.filters-list-page .active-filters-area .active-filter-item .controls .switch{position:relative;bottom:2px}.filters-list-page .active-filters-area .active-filter-item .controls .icon{bottom:1px;position:relative}.filters-list-page .active-filters-area .active-filter-item .controls .icon i,.filters-list-page .active-filters-area .active-filter-item .controls .icon i:before{font-size:1.25em}.filters-list-page .active-filters-area .active-filter-item.not-sortable-item,.filters-list-page .active-filters-area .active-filter-item.not-sortable-item:hover{cursor:default;background-color:var(--tainacan-white) !important}.filters-list-page .active-filters-area .active-filter-item.not-focusable-item,.filters-list-page .active-filters-area .active-filter-item.not-focusable-item:hover{cursor:default}.filters-list-page .active-filters-area .active-filter-item.not-focusable-item .metadatum-name,.filters-list-page .active-filters-area .active-filter-item.not-focusable-item:hover .metadatum-name{color:var(--tainacan-secondary)}.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item),.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item):hover{color:var(--tainacan-gray3)}.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item) .label-details,.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item) .not-saved,.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item):hover .label-details,.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item):hover .not-saved{color:var(--tainacan-gray3) !important}.filters-list-page .active-filters-area .active-filter-item:not(:hover) .icon-level-identifier .tainacan-icon::before,.filters-list-page .active-filters-area .active-filter-item:hover.not-sortable-item .icon-level-identifier .tainacan-icon::before{color:var(--tainacan-gray3) !important}.filters-list-page .active-filters-area .active-filter-item:hover:not(.not-sortable-item){background-color:var(--tainacan-turquoise1);border-color:var(--tainacan-turquoise1)}.filters-list-page .active-filters-area .active-filter-item:hover:not(.not-sortable-item) .label-details,.filters-list-page .active-filters-area .active-filter-item:hover:not(.not-sortable-item) .not-saved{color:var(--tainacan-gray4) !important}.filters-list-page .active-filters-area .active-filter-item:hover:not(.not-sortable-item) .grip-icon{color:var(--tainacan-secondary)}.filters-list-page .active-filters-area .available-metadatum-item:not(.sortable-ghost):not(.disabled-metadatum){display:none;visibility:hidden}.filters-list-page .active-filters-area .sortable-ghost{border:1px dashed var(--tainacan-gray2);background:var(--tainacan-white);display:block;padding:0.7em 0.9em;margin:4px;height:2.8571em;position:relative}.filters-list-page .active-filters-area .sortable-ghost .grip-icon{color:var(--tainacan-white)}.filters-list-page .available-metadata-area{padding:0px 0px 10px 10px;margin:0;max-width:600px;min-width:41.66666667%}@media screen and (max-width: 769px){.filters-list-page .available-metadata-area{max-width:100%;padding:10px}.filters-list-page .available-metadata-area h3{margin:1em 0em 1em 0em !important}.filters-list-page .available-metadata-area .available-metadatum-item::before,.filters-list-page .available-metadata-area .available-metadatum-item::after{display:none !important}}.filters-list-page .available-metadata-area h3{margin:0.875em 0em 1em 0em;font-weight:500}.filters-list-page .available-metadata-area>.field{font-size:0.875em;padding-right:1em;padding-left:1em}.filters-list-page .available-metadata-area .available-metadatum-item{padding:0.6em;margin:4px 4px 4px 1.2em;background-color:var(--tainacan-white);cursor:pointer;left:0;height:2.8571em;position:relative;border:1px solid var(--tainacan-gray2);border-radius:1px;transition:left 0.2s ease}.filters-list-page .available-metadata-area .available-metadatum-item .grip-icon{color:var(--tainacan-gray3);position:relative;flex-shrink:0}.filters-list-page .available-metadata-area .available-metadatum-item .icon-level-identifier{position:relative;bottom:6px}.filters-list-page .available-metadata-area .available-metadatum-item .metadatum-name{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;font-weight:bold;margin-left:0.4em;display:inline-block;width:calc(100% - 60px)}.filters-list-page .available-metadata-area .available-metadatum-item:after,.filters-list-page .available-metadata-area .available-metadatum-item:before{content:'';display:block;position:absolute;right:100%;width:0;height:0;border-style:solid}.filters-list-page .available-metadata-area .available-metadatum-item:after{top:-1px;border-color:transparent white transparent transparent;border-right-width:16px;border-top-width:1.4286em;border-bottom-width:1.4286em;left:-19px}.filters-list-page .available-metadata-area .available-metadatum-item:before{top:-1px;border-color:transparent var(--tainacan-gray2) transparent transparent;border-right-width:16px;border-top-width:1.4286em;border-bottom-width:1.4286em;left:-20px}.filters-list-page .available-metadata-area .available-metadatum-item .label-details{font-weight:normal;color:var(--tainacan-gray3);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.filters-list-page .available-metadata-area .sortable-drag{opacity:1 !important}.filters-list-page .available-metadata-area .compound-metadatum-label{font-weight:bold;color:var(--tainacan-gray3);padding:20px;position:relative;top:2px}.filters-list-page .available-metadata-area .available-metadatum-item:not(:hover) .icon-level-identifier .tainacan-icon::before,.filters-list-page .available-metadata-area .available-filter-item:hover.not-sortable-item .icon-level-identifier .tainacan-icon::before{color:var(--tainacan-gray3) !important}.filters-list-page .available-metadata-area .available-metadatum-item:not(.disabled-metadatum):hover{background-color:var(--tainacan-turquoise1);border-color:var(--tainacan-turquoise2);position:relative;left:-4px}.filters-list-page .available-metadata-area .available-metadatum-item:not(.disabled-metadatum):hover:after{border-color:transparent var(--tainacan-turquoise1) transparent transparent}.filters-list-page .available-metadata-area .available-metadatum-item:not(.disabled-metadatum):hover:before{border-color:transparent var(--tainacan-turquoise2) transparent transparent}.filters-list-page .available-metadata-area .available-metadatum-item:not(.disabled-metadatum):hover .grip-icon{color:var(--tainacan-secondary) !important}.filters-list-page .inherited-filter.active-filter-item:hover:not(.not-sortable-item){background-color:var(--tainacan-blue1);border-color:var(--tainacan-blue2)}.filters-list-page .inherited-filter.active-filter-item:hover:not(.not-sortable-item) .grip-icon{color:var(--tainacan-blue5) !important}.filters-list-page .inherited-filter .sorting-buttons button{background:var(--tainacan-blue1)}.filters-list-page .inherited-filter .sorting-buttons button:hover{color:var(--tainacan-blue5)}.filters-list-page .inherited-metadatum .switch.is-small input[type="checkbox"]:checked+.check{border:1.5px solid var(--tainacan-blue5)}.filters-list-page .inherited-metadatum .switch.is-small input[type="checkbox"]:checked+.check::before{background-color:var(--tainacan-blue5)}.filters-list-page .inherited-metadatum.available-metadatum-item:not(.disabled-metadatum):hover{background-color:var(--tainacan-blue1) !important;border-color:var(--tainacan-blue2) !important}.filters-list-page .inherited-metadatum.available-metadatum-item:not(.disabled-metadatum):hover .grip-icon{color:var(--tainacan-blue5) !important}.filters-list-page .inherited-metadatum.available-metadatum-item:not(.disabled-metadatum):hover:after{border-color:transparent var(--tainacan-blue1) transparent transparent !important}.filters-list-page .inherited-metadatum.available-metadatum-item:not(.disabled-metadatum):hover:before{border-color:transparent var(--tainacan-blue2) transparent transparent !important}.filters-list-page .child-metadatum{margin-left:42px !important}.filters-list-page .tainacan-modal-content .column{overflow:visible;margin:0}.filters-list-page .tainacan-modal-content .filter-types-container{height:100%;display:flex;flex-direction:column;justify-content:center}.filters-list-page .tainacan-modal-content .filter-types-container p{margin-bottom:16px}.filters-list-page .tainacan-modal-content .filter-types-container .filter-type{border-bottom:1px solid var(--tainacan-gray2);padding:15px 8.3333333%;cursor:pointer}.filters-list-page .tainacan-modal-content .filter-types-container .filter-type:first-child{margin-top:15px}.filters-list-page .tainacan-modal-content .filter-types-container .filter-type:last-child{border-bottom:none}.filters-list-page .tainacan-modal-content .filter-types-container .filter-type:hover{background-color:var(--tainacan-gray2)}.filters-list-page .tainacan-modal-content .filter-type-preview{background:var(--tainacan-gray1);margin:12px auto;padding:12px 30px;border-radius:3px;z-index:9999999999999;width:218px;display:flex;align-items:center;justify-content:center;pointer-events:none;cursor:none;flex-wrap:wrap;max-width:260px;width:100%;height:100%;min-height:290px;align-items:normal}@media screen and (max-width: 769px){.filters-list-page .tainacan-modal-content .filter-type-preview{max-width:100%}}.filters-list-page .tainacan-modal-content .filter-type-preview .filter-type-label{font-weight:600;color:var(--tainacan-info-color);width:100%;font-size:1em;margin-left:-16px}.filters-list-page .tainacan-modal-content .filter-type-preview .field .collapse-handle{display:flex}.filters-list-page .tainacan-modal-content .filter-type-preview input,.filters-list-page .tainacan-modal-content .filter-type-preview select,.filters-list-page .tainacan-modal-content .filter-type-preview textarea,.filters-list-page .tainacan-modal-content .filter-type-preview .input,.filters-list-page .tainacan-modal-content .filter-type-preview .tags,.filters-list-page .tainacan-modal-content .filter-type-preview .tag{pointer-events:none;cursor:none;background-color:rgba(255,255,255,0.6) !important}.filters-list-page .tainacan-modal-content .filter-type-preview .autocomplete>.control,.filters-list-page .tainacan-modal-content .filter-type-preview .autocomplete>.control>input,.filters-list-page .tainacan-modal-content .filter-type-preview .dropdown-content{background-color:var(--tainacan-gray0) !important}.filters-list-page .tainacan-modal-content .filter-type-preview .taginput{margin-bottom:80px}.filters-list-page .tainacan-modal-content .filter-type-preview input[type="checkbox"]:checked+.check{background:rgba(255,255,255,0.6) url(${u}) no-repeat center center !important}.filters-list-page .tainacan-modal-content .filter-type-preview textarea{min-height:70px}.filters-list-page .tainacan-modal-content .filter-type-preview .field{width:100%;margin:6px}.filters-list-page .tainacan-modal-content .filter-type-preview .field .label{color:var(--tainacan-label-color);font-weight:normal}.filters-list-page .tainacan-modal-content .filter-type-preview .add-new-term{font-size:0.75em;text-decoration:underline;margin:0.875em 1.5em}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container{display:flex}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .field,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .field{margin:0}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .dropdown,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .dropdown{width:auto}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .dropdown .dropdown-trigger button,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .dropdown .dropdown-trigger button{padding:0 0.5em !important;height:auto !important}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .dropdown .dropdown-trigger button i:not(.tainacan-icon-arrowdown),.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .dropdown .dropdown-trigger button i:not(.tainacan-icon-arrowdown){margin-top:-3px;font-size:1.5em;font-style:normal;color:var(--tainacan-info-color)}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .dropdown .dropdown-menu,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .dropdown .dropdown-menu{display:block !important}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .datepicker,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .datepicker{flex-shrink:0;max-width:70%}\n`,""]);const p=d},4417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},32508:(e,t,a)=>{var i=a(85072),n=a.n(i),r=a(97825),o=a.n(r),l=a(77659),s=a.n(l),c=a(55056),d=a.n(c),u=a(10540),p=a.n(u),m=a(63494),f=a.n(m),h=a(39681),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=s().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=p();n()(h.A,v),h.A&&h.A.locals&&h.A.locals},29950:(e,t,a)=>{var i=a(85072),n=a.n(i),r=a(97825),o=a.n(r),l=a(77659),s=a.n(l),c=a(55056),d=a.n(c),u=a(10540),p=a.n(u),m=a(63494),f=a.n(m),h=a(59951),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=s().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=p();n()(h.A,v),h.A&&h.A.locals&&h.A.locals},39084:(e,t,a)=>{var i=a(85072),n=a.n(i),r=a(97825),o=a.n(r),l=a(77659),s=a.n(l),c=a(55056),d=a.n(c),u=a(10540),p=a.n(u),m=a(63494),f=a.n(m),h=a(30003),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=s().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=p();n()(h.A,v),h.A&&h.A.locals&&h.A.locals},66792:(e,t,a)=>{var i=a(85072),n=a.n(i),r=a(97825),o=a.n(r),l=a(77659),s=a.n(l),c=a(55056),d=a.n(c),u=a(10540),p=a.n(u),m=a(63494),f=a.n(m),h=a(34085),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=s().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=p();n()(h.A,v),h.A&&h.A.locals&&h.A.locals},58901:(e,t,a)=>{var i=a(85072),n=a.n(i),r=a(97825),o=a.n(r),l=a(77659),s=a.n(l),c=a(55056),d=a.n(c),u=a(10540),p=a.n(u),m=a(63494),f=a.n(m),h=a(26624),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=s().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=p();n()(h.A,v),h.A&&h.A.locals&&h.A.locals},56392:(e,t,a)=>{a.d(t,{A:()=>r});var i=a(22577),n=a(20423);a(57037);const r=(0,a(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-2151c04c"]])},41229:(e,t,a)=>{a.d(t,{A:()=>r});var i=a(27281),n=a(94390);const r=(0,a(66262).A)(n.A,[["render",i.X]])},87684:(e,t,a)=>{a.d(t,{A:()=>r});var i=a(49979),n=a(89267);a(53211);const r=(0,a(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-9b609966"]])},57672:(e,t,a)=>{a.d(t,{A:()=>r});var i=a(81982),n=a(81295);const r=(0,a(66262).A)(n.A,[["render",i.X]])},31757:(e,t,a)=>{a.d(t,{A:()=>r});var i=a(44111),n=a(63118);a(72079);const r=(0,a(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-ffeff5ce"]])},31607:(e,t,a)=>{a.d(t,{A:()=>r});var i=a(61322),n=a(67108);const r=(0,a(66262).A)(n.A,[["render",i.X]])},34456:(e,t,a)=>{a.d(t,{A:()=>r});var i=a(9409),n=a(84263);a(97465);const r=(0,a(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-994e7f18"]])},38270:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var i=a(20576),n=a(78101);a(80268);const r=(0,a(66262).A)(n.A,[["render",i.X]])},20423:(e,t,a)=>{a.d(t,{A:()=>i.A});var i=a(35276)},94390:(e,t,a)=>{a.d(t,{A:()=>i.A});var i=a(85743)},89267:(e,t,a)=>{a.d(t,{A:()=>i.A});var i=a(29868)},81295:(e,t,a)=>{a.d(t,{A:()=>i.A});var i=a(76384)},63118:(e,t,a)=>{a.d(t,{A:()=>i.A});var i=a(38835)},67108:(e,t,a)=>{a.d(t,{A:()=>i.A});var i=a(12217)},84263:(e,t,a)=>{a.d(t,{A:()=>i.A});var i=a(95996)},78101:(e,t,a)=>{a.d(t,{A:()=>i.A});var i=a(97062)},22577:(e,t,a)=>{a.d(t,{X:()=>i.X});var i=a(98926)},27281:(e,t,a)=>{a.d(t,{X:()=>i.X});var i=a(40172)},49979:(e,t,a)=>{a.d(t,{X:()=>i.X});var i=a(9976)},81982:(e,t,a)=>{a.d(t,{X:()=>i.X});var i=a(55621)},44111:(e,t,a)=>{a.d(t,{X:()=>i.X});var i=a(294)},61322:(e,t,a)=>{a.d(t,{X:()=>i.X});var i=a(6443)},9409:(e,t,a)=>{a.d(t,{X:()=>i.X});var i=a(90266)},20576:(e,t,a)=>{a.d(t,{X:()=>i.X});var i=a(3751)},57037:(e,t,a)=>{a(32508)},53211:(e,t,a)=>{a(29950)},72079:(e,t,a)=>{a(39084)},97465:(e,t,a)=>{a(66792)},80268:(e,t,a)=>{a(58901)},78591:e=>{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 1 1%27%3E%3Cpath style=%27fill:rgb%2869,70,71%29%27 d=%27M 0.04038059,0.6267767 0.14644661,0.52071068 0.42928932,0.80355339 0.3232233,0.90961941 z M 0.21715729,0.80355339 0.85355339,0.16715729 0.95961941,0.2732233 0.3232233,0.90961941 z%27%3E%3C/path%3E%3C/svg%3E"}}]);